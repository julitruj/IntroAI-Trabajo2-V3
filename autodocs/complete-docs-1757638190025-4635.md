# Documentaci√≥n del Proyecto

## Gu√≠a de Usuario
# Gu√≠a de Usuario

Bienvenido a esta gu√≠a dise√±ada para ayudarte a sacar el m√°ximo provecho de nuestra herramienta de an√°lisis y procesamiento de informaci√≥n. Aqu√≠ encontrar√°s informaci√≥n amigable y pasos claros para comenzar a trabajar con la aplicaci√≥n.

---

## üì± ¬øQu√© es esta aplicaci√≥n?

- **Prop√≥sito principal**:  
  Esta aplicaci√≥n facilita el an√°lisis y procesamiento de informaci√≥n a trav√©s de una interfaz web interactiva. Permite cargar archivos PDF, analizarlos usando modelos de lenguaje basados en inteligencia artificial y extraer insights de conversaciones, sentimientos, emociones y la Voz del Cliente (VoC).  

- **Problema que resuelve**:  
  Ayuda a empresas y profesionales que necesitan procesar grandes vol√∫menes de informaci√≥n textual de manera r√°pida y precisa, extrayendo datos relevantes para la toma de decisiones, sin la necesidad de conocimientos t√©cnicos avanzados.

- **Beneficios clave**:  
  ‚Ä¢ Obt√©n res√∫menes y an√°lisis profundos de documentos PDF y conversaciones.  
  ‚Ä¢ Detecta sentimientos y emociones presentes en los textos.  
  ‚Ä¢ Analiza la Voz del Cliente para comprender mejor las necesidades y opiniones de tus usuarios.  
  ‚Ä¢ Interfaz intuitiva que hace todo el proceso sencillo y accesible.

- **Audiencia objetivo**:  
  Profesionales, equipos de atenci√≥n al cliente, analistas de datos y empresas que requieran profundizar en el contenido de documentos y conversaciones para optimizar estrategias y mejorar la experiencia del usuario.

---

## ‚ú® Funcionalidades Principales

### Interfaz Web Interactiva (Streamlit)
- **¬øQu√© hace?**:  
  Proporciona una experiencia visual e interactiva para navegar por todas las funciones de la aplicaci√≥n de forma sencilla y accesible.
  
- **¬øCu√°ndo usarla?**:  
  Cada vez que necesites analizar documentos o revisar resultados de an√°lisis, esta interfaz ser√° tu punto de acceso principal para interactuar con la herramienta.

- **¬øC√≥mo acceder?**:  
  1. Abre tu navegador web.  
  2. Ingresa la URL proporcionada para la aplicaci√≥n.  
  3. Interact√∫a con los men√∫s y secciones disponibles.
  
- **Resultado esperado**:  
  Una pantalla limpia y organizada con botones y opciones que te permiten cargar archivos, elegir an√°lisis y visualizar resultados de manera inmediata.

---

### Procesamiento de Archivos PDF
- **¬øQu√© hace?**:  
  Permite cargar archivos PDF y extraer el contenido textual necesario para el an√°lisis posterior.
  
- **¬øCu√°ndo usarla?**:  
  Util√≠zala cuando dispongas de documentos en formato PDF que necesites analizar o extraer informaci√≥n relevante.
  
- **¬øC√≥mo acceder?**:  
  1. Dentro de la interfaz principal, selecciona la opci√≥n ‚ÄúCargar PDF‚Äù.  
  2. Elige el archivo PDF desde tu dispositivo.  
  3. Confirma la carga para iniciar su procesamiento.
  
- **Resultado esperado**:  
  Visualizaci√≥n del contenido del PDF en la aplicaci√≥n, listo para ser analizado o convertido en insights.

---

### An√°lisis con Modelos de Lenguaje (IA)
- **¬øQu√© hace?**:  
  Emplea inteligencia artificial para analizar y extraer patrones, temas y respuestas significativas del contenido textual.
  
- **¬øCu√°ndo usarla?**:  
  Cuando desees obtener un entendimiento m√°s profundo del contenido, identificar temas recurrentes o resumir grandes vol√∫menes de texto.
  
- **¬øC√≥mo acceder?**:  
  1. Luego de cargar un documento PDF o texto, selecciona la opci√≥n ‚ÄúAn√°lisis IA‚Äù.  
  2. Configura los par√°metros del an√°lisis si lo deseas.  
  3. Inicia el an√°lisis y espera a que se muestren los resultados.
  
- **Resultado esperado**:  
  Un informe resumido con insights, temas detectados y patrones relevantes extra√≠dos del texto analizado.

---

### An√°lisis de Conversaciones
- **¬øQu√© hace?**:  
  Examina registros de conversaciones (chat, correos, foros) para identificar interacciones, temas y patrones en la comunicaci√≥n.
  
- **¬øCu√°ndo usarla?**:  
  Al analizar di√°logos o comunicaciones de equipos y clientes para comprender mejor el flujo de comunicaci√≥n y detectar √°reas de mejora.
  
- **¬øC√≥mo acceder?**:  
  1. Selecciona ‚ÄúAn√°lisis de Conversaciones‚Äù en la interfaz.  
  2. Carga o introduce el contenido de la conversaci√≥n.  
  3. Ejecuta el an√°lisis y revisa los insights.
  
- **Resultado esperado**:  
  Visualizaci√≥n de los componentes clave de la conversaci√≥n, destacando temas y patrones de comunicaci√≥n.

---

### An√°lisis de Sentimientos y Emociones
- **¬øQu√© hace?**:  
  Eval√∫a el contenido textual para determinar el tono emocional y los sentimientos expresados (positivo, negativo, neutral).
  
- **¬øCu√°ndo usarla?**:  
  Es √∫til cuando necesitas entender la reacci√≥n emocional de los usuarios, clientes o del p√∫blico objetivo a un tema o producto.
  
- **¬øC√≥mo acceder?**:  
  1. Tras cargar un texto o conversaci√≥n, selecciona la opci√≥n ‚ÄúAn√°lisis de Sentimientos‚Äù.  
  2. Configura el an√°lisis si es necesario.  
  3. Inicia el proceso y revisa los resultados.
  
- **Resultado esperado**:  
  Un reporte gr√°fico y resumido que muestra la distribuci√≥n de sentimientos y emociones a lo largo del documento o conversaci√≥n analizada.

---

### An√°lisis de Voz del Cliente (VoC)
- **¬øQu√© hace?**:  
  Extrae y analiza las opiniones y comentarios de los clientes para ofrecer una visi√≥n clara de las percepciones y necesidades del p√∫blico.
  
- **¬øCu√°ndo usarla?**:  
  Cuando necesites conocer en detalle qu√© opinan tus clientes de tus productos/servicios, y detectar √°reas de mejora o tendencias en el feedback.
  
- **¬øC√≥mo acceder?**:  
  1. Dir√≠gete a la secci√≥n ‚ÄúVoz del Cliente‚Äù en la interfaz.  
  2. Carga los datos de feedback o conecta la fuente de comentarios.  
  3. Ejecuta el an√°lisis y revisa los insights.
  
- **Resultado esperado**:  
  Un informe que resalta los comentarios m√°s recurrentes, puntos de dolor y aspectos positivos valorados por los clientes.

---

## üöÄ C√≥mo Empezar

### Primer Uso
1. **Requisitos previos**:  
   - Conexi√≥n estable a internet.  
   - Navegador web actualizado.  
   - Documentos PDF o textos listos para analizar (si ya tienes datos a la mano).

2. **Acceso inicial**:  
   - Ingresa a la URL de la aplicaci√≥n en tu navegador.  
   - Si es necesario, crea una cuenta o inicia sesi√≥n.

3. **Configuraci√≥n b√°sica**:  
   - Familiar√≠zate con el men√∫ principal y las opciones de carga de documentos.  
   - Configura los par√°metros de an√°lisis (opcional) seg√∫n tu preferencia.

4. **Primera tarea recomendada**:  
   - Carga un archivo PDF y prueba el ‚ÄúAn√°lisis IA‚Äù para ver c√≥mo se transforma el contenido en insights √∫tiles.

---

### Flujo T√≠pico de Uso
1. **Paso 1**:  
   Ingresa a la interfaz web y selecciona la opci√≥n para cargar un PDF o texto.

2. **Paso 2**:  
   Una vez cargado el contenido, elige el tipo de an√°lisis que deseas (IA, conversaciones, sentimientos o VoC).

3. **Paso 3**:  
   Revisa el informe generado en pantalla, que incluir√° res√∫menes, gr√°ficos y puntos destacados del an√°lisis realizado.

---

## üí° Casos de Uso Comunes

### Escenario 1: An√°lisis de Reportes de Clientes
**Situaci√≥n**: Necesitas identificar √°reas de mejora y aspectos destacados en el feedback recibido de los clientes.  
**Pasos**: 
1. Carga los documentos PDF o registros de conversaciones con clientes.  
2. Selecciona "An√°lisis de Voz del Cliente" y "An√°lisis de Sentimientos".  
3. Revisa el informe para detectar opiniones recurrentes y emociones predominantes.

### Escenario 2: Evaluaci√≥n de Comunicaciones Internas
**Situaci√≥n**: Quieres mejorar la comunicaci√≥n dentro de tu equipo.  
**Pasos**: 
1. Ingresa a la opci√≥n "An√°lisis de Conversaciones".  
2. Sube el registro de chats o correos internos.  
3. Identifica patrones y temas comunes para tomar medidas de mejora.

### Escenario 3: Resumen Autom√°tico de Documentos
**Situaci√≥n**: Tienes varios reportes y documentos largos y necesitas un resumen r√°pido.  
**Pasos**: 
1. Carga cada documento PDF en la secci√≥n correspondiente.  
2. Selecciona "An√°lisis IA" para que el sistema resuma la informaci√≥n.  
3. Utiliza el resumen generado para reuniones o informes ejecutivos.

---

## ‚ùì Preguntas Frecuentes

**P: ¬øC√≥mo puedo cargar un archivo PDF para su an√°lisis?**  
R: Desde el men√∫ principal, selecciona "Cargar PDF", busca el archivo en tu dispositivo y confirma la carga. El contenido se mostrar√° en pantalla listo para ser analizado.

**P: ¬øQu√© hago si el an√°lisis no muestra resultados?**  
R: Verifica que el documento haya sido cargado correctamente. Si el problema persiste:
   1. Revisa tu conexi√≥n a internet.
   2. Intenta recargar la p√°gina.
   3. Consulta la secci√≥n de soluci√≥n de problemas.

**P: ¬øEs seguro subir mis documentos a la plataforma?**  
R: S√≠. La aplicaci√≥n utiliza protocolos de seguridad y encriptaci√≥n para proteger tus datos y garantizar la confidencialidad de la informaci√≥n.

**P: ¬øCu√°les son las limitaciones principales?**  
R:  
- No se recomienda cargar documentos en formatos distintos a PDF para el procesamiento.  
- Los an√°lisis son tan precisos como la calidad del contenido proporcionado; textos con errores o poco claros pueden afectar los resultados.  
- No sustituye el an√°lisis humano en casos complejos que requieran interpretaci√≥n contextual profunda.

---

## üÜò Soluci√≥n de Problemas

### Problema: El PDF no se carga
**S√≠ntomas**:  
- La aplicaci√≥n muestra un mensaje de error o no reconoce el archivo.

**Causa probable**:  
- El archivo puede estar corrupto o en un formato incompatible.

**Soluci√≥n**:  
1. Verifica que el archivo est√© en formato PDF y que no est√© da√±ado.  
2. Intenta cargar otro documento para descartar problemas espec√≠ficos del archivo.

---

### Problema: Los resultados del an√°lisis son lentos o incompletos
**S√≠ntomas**:  
- El proceso de an√°lisis se interrumpe o dura m√°s de lo esperado.

**Causa probable**:  
- Conexi√≥n a internet inestable o archivos demasiado extensos.

**Soluci√≥n**:  
1. Aseg√∫rate de tener una conexi√≥n estable.  
2. Intenta dividir documentos muy extensos en partes m√°s peque√±as y analiza cada tramo por separado.

---

### Problema: La interfaz no responde a los comandos
**S√≠ntomas**:  
- Los botones o enlaces no funcionan correctamente.

**Causa probable**:  
- Error temporal en la aplicaci√≥n o en el navegador.

**Soluci√≥n**:  
1. Refresca la p√°gina o reinicia el navegador.  
2. Si el problema persiste, cierra sesi√≥n y vuelve a iniciar.  
3. Consulta la secci√≥n de soporte para reportar el error.

---

## üìû Soporte y Contacto

- **¬øNecesitas ayuda adicional?**  
  Puedes comunicarte con nuestro equipo de soporte enviando un correo a soporte@tuaplicacion.com o utilizando el chat en l√≠nea disponible en la plataforma.

- **¬øEncontraste un error?**  
  Reporta cualquier anomal√≠a a trav√©s del formulario ‚ÄúReportar un Error‚Äù disponible en el men√∫ de ayuda de la aplicaci√≥n.

- **¬øTienes sugerencias?**  
  Tu feedback es importante para nosotros. Env√≠a tus sugerencias a feedback@tuaplicacion.com.

---

Gracias por confiar en nuestra herramienta para optimizar el an√°lisis y procesamiento de informaci√≥n. ¬°Esperamos que esta gu√≠a te sea √∫til y disfrutes de la experiencia de usuario!

## Documentaci√≥n T√©cnica
A continuaci√≥n se presenta la documentaci√≥n t√©cnica completa en Markdown para el repositorio VoC Analyst. Esta gu√≠a est√° orientada tanto a desarrolladores que deseen comprender, mantener y extender el sistema como a quienes necesiten conocer en detalle la arquitectura, los componentes y las buenas pr√°cticas de desarrollo.

------------------------------------------------------------

# Documentaci√≥n T√©cnica

Esta documentaci√≥n describe la arquitectura, el stack tecnol√≥gico, los componentes principales, las APIs internas, el modelo de datos, la gu√≠a de desarrollo y los puntos de atenci√≥n del sistema VoC Analyst.

------------------------------------------------------------

## üèóÔ∏è Arquitectura del Sistema

- **Patr√≥n Arquitect√≥nico Utilizado:**  
  Se emplea un enfoque monol√≠tico modular. La interfaz de usuario (Frontend) se implementa en Streamlit y se integra directamente con la l√≥gica de negocio (Backend). Se ha obtenido una separaci√≥n clara entre:
  - **Capa de Presentaci√≥n:** Gestionada por Streamlit, la cual permite la carga de archivos, visualizaci√≥n interactiva y manejo del estado de la sesi√≥n.
  - **Capa de Procesamiento y An√°lisis:** Incluye m√≥dulos encargados de la extracci√≥n de texto desde archivos PDF, el procesamiento de conversaciones (normalizaci√≥n, partici√≥n en turnos y redacci√≥n de informaci√≥n sensible) y la integraci√≥n con proveedores de Modelos de Lenguaje (LLM).

- **Diagrama de Componentes (Mermaid):**

  ```mermaid
  graph LR
      A[Interfaz Streamlit] --> B[Procesamiento & Validaci√≥n de Archivos]
      A --> C[Gesti√≥n de Estado (st.session_state)]
      B --> D[Extracci√≥n de Texto (PyPDF2)]
      B --> E[Parser de Conversaciones y Redacci√≥n de PII]
      A --> F[LLMBackend]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de Datos Principal:**  
  1. El usuario carga uno o m√°s archivos PDF (u otros formatos de texto) a trav√©s de la interfaz web en Streamlit.  
  2. Se ejecuta la validaci√≥n (por ejemplo, verificaci√≥n del tama√±o del archivo con `validate_file_size`) y se extrae el contenido textual (usando `extract_text_from_pdf` con PyPDF2).  
  3. El texto extra√≠do es procesado mediante funciones de parsing que normalizan la conversaci√≥n, segmentan los mensajes y redactan la informaci√≥n sensible (PII).  
  4. La capa de negocio utiliza el m√≥dulo LLMBackend para enviar el contenido a los proveedores configurados (usando la clase ModelConfig y m√©todos como `analyze_text`) y obtener insights, res√∫menes y an√°lisis de sentimientos.  
  5. Los resultados se almacenan en el estado de sesi√≥n (`st.session_state`) y se presentan de manera interactiva en la interfaz (con visualizaciones, tablas y mensajes).

- **Dependencias Cr√≠ticas:**  
  - **Streamlit:** Facilita la creaci√≥n de la interfaz web interactiva y la gesti√≥n del estado en tiempo real.  
  - **PyPDF2:** Utilizada para la extracci√≥n de texto de archivos PDF.  
  - **Pandas:** Ayuda en el manejo de datos y generaci√≥n de DataFrames para la visualizaci√≥n.  
  - **LLM SDKs (openai, anthropic, google-genai):** Permiten la integraci√≥n con distintos proveedores de Modelos de Lenguaje para el an√°lisis de conversaciones y extracci√≥n de insights.

------------------------------------------------------------

## üìã Stack Tecnol√≥gico

- **Lenguajes:**  
  Principalmente Python (clasificado como "other" en el repositorio), utilizado para el backend, procesamiento de archivos y scripts de la aplicaci√≥n.

- **Frameworks / Librer√≠as:**  
  - **Streamlit:** Para la creaci√≥n de la interfaz web interactiva.  
  - **PyPDF2:** (>=3.0.1) Para extraer el contenido textual de documentos PDF.  
  - **Pandas:** (>=2.3.2) Para manipulaci√≥n y visualizaci√≥n de datos.  
  - **LLM SDKs:**  
    - `openai` ‚Äì Para integrar modelos de OpenAI.  
    - `anthropic` ‚Äì Para la integraci√≥n con los servicios de Anthropic.  
    - `google-genai` ‚Äì Para conectar con Google Gemini u otros modelos de Google.

- **Base de Datos:**  
  No se utiliza una base de datos tradicional; el procesamiento se realiza en memoria y el almacenamiento se gestiona de forma transitoria a trav√©s de `st.session_state`.

- **APIs Externas:**  
  Se realiza la integraci√≥n con APIs de proveedores de Modelos de Lenguaje (LLM), tales como OpenAI, Anthropic y Google GenAI, para el an√°lisis sem√°ntico y la generaci√≥n de insights.

- **Infraestructura:**  
  La aplicaci√≥n se puede ejecutar en entornos locales, servidores o contenedores Docker. Se despliega como una aplicaci√≥n web simple mediante Streamlit.

------------------------------------------------------------

## üîß Componentes Principales

### 1. Aplicaci√≥n Streamlit

- **Prop√≥sito:**  
  Gestionar la interfaz de usuario, la carga de archivos y la presentaci√≥n de resultados. Se encarga tambi√©n de la inicializaci√≥n del estado de la sesi√≥n para almacenar resultados, identificadores de ejecuci√≥n y datos subidos.

- **Ubicaci√≥n:**  
  Generalmente en el archivo de entrada (por ejemplo, `app.py`) y m√≥dulos auxiliarmente ubicados en el directorio `app/`.

- **Interfaces / M√©todos Expuestos:**
  - **Configuraci√≥n de la P√°gina:** Uso de `st.set_page_config` para definir t√≠tulo, √≠cono, layout y estado inicial del sidebar.
  - **Gesti√≥n del Estado:** Uso de `st.session_state` para almacenar variables como:
    - `analysis_results` (resultados del an√°lisis).
    - `run_id` (identificador √∫nico de la ejecuci√≥n).
    - `uploaded_files_data` (datos y metadatos de archivos subidos).
    - `processing_complete` (indicador del estado del proceso).
  - **Funciones Auxiliares:**  
    - `extract_text_from_pdf(pdf_file) ‚Üí str`  
      Extrae el contenido textual de un archivo PDF utilizando PyPDF2.
    - `validate_file_size(file) ‚Üí bool`  
      Verifica que el archivo no exceda el tama√±o m√°ximo permitido (100 MB).

- **Dependencias Internas:**  
  Requiere Streamlit, PyPDF2, Pandas y otras librer√≠as b√°sicas de Python (os, time, uuid, etc.).

---

### 2. M√≥dulo LLMBackend

- **Prop√≥sito:**  
  Encapsular la l√≥gica de integraci√≥n con proveedores de modelos de lenguaje. Este m√≥dulo se encarga de:
  - Inicializar la conexi√≥n con el proveedor configurado.
  - Cargar prompts espec√≠ficos para parseo y generaci√≥n de an√°lisis.
  - Gestionar la comunicaci√≥n con el servicio LLM y manejar reintentos en caso de fallo.

- **Ubicaci√≥n:**  
  Se encuentra en el archivo `llm_backend.py`.

- **Interfaces / M√©todos Expuestos:**
  - **ModelConfig:**  
    Clase que define par√°metros como:
    - `provider`: Tipo de proveedor (por ejemplo, "openai", "anthropic" o "gemini").
    - `model`: Nombre o versi√≥n del modelo.
    - `api_key`: Clave de autenticaci√≥n.
    - `max_retries` y `retry_delay`: Par√°metros para la gesti√≥n de reintentos.
  - **LLMBackend:**  
    M√©todos clave:
    - `__init__(config: ModelConfig)`: Inicializa la instancia con la configuraci√≥n dada.
    - `_initialize_client()`: Selecciona e instancia el cliente adecuado seg√∫n el proveedor.
    - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan los textos de prompt para parseo y an√°lisis.
    - `analyze_text(text: str) ‚Üí Dict[str, Any]`: Env√≠a el texto a analizar y recibe la respuesta con insights y an√°lisis.

- **Dependencias Externas:**  
  Utiliza las librer√≠as espec√≠ficas de cada proveedor (openai, anthropic, google-genai).

---

### 3. Parser de Conversaciones y An√°lisis

- **Prop√≥sito:**  
  Procesar y estructurar las conversaciones extra√≠das de archivos PDF o entradas de usuario. Entre sus responsabilidades se encuentran:
  - **Normalizaci√≥n y Estructuraci√≥n:** Convertir el texto crudo en un JSON estructurado con campos como `conversation_id`, `messages`, `sender`, `timestamp` y `metadata`.
  - **Redacci√≥n de PII:** Buscar y reemplazar informaci√≥n sensible (como correos, n√∫meros telef√≥nicos, tarjetas, etc.) por etiquetas est√°ndar (por ejemplo, ‚Äú[EMAIL]‚Äù, ‚Äú[PHONE]‚Äù).
  - **Detecci√≥n de Metadatos:** Extraer informaci√≥n adicional como el idioma, ID de la conversaci√≥n, duraci√≥n, canal de comunicaci√≥n, etc.

- **Requisitos de An√°lisis:**  
  - Procesar √∫nicamente un archivo que contenga una √∫nica conversaci√≥n.
  - Generar identificadores y clasificaciones (por ejemplo, detecci√≥n de sentimiento, emociones y temas destacados).

- **Implementaci√≥n:**  
  Este m√≥dulo puede estar distribuido en funciones independientes (por ejemplo, en `parser.py` o funciones integradas en `app.py`) que se invocan tras la extracci√≥n del texto.

------------------------------------------------------------

## üöÄ APIs y Endpoints

**Nota:**  
Aunque la aplicaci√≥n no expone endpoints REST p√∫blicos, se han implementado ‚ÄúAPIs internas‚Äù ‚Äì funciones y m√©todos que orquestan el flujo de procesamiento:

- **Funci√≥n:** `extract_text_from_pdf(pdf_file) ‚Üí str`  
  Extrae texto de un PDF utilizando PyPDF2, con manejo de excepciones mediante `st.error`.

- **Funci√≥n:** `validate_file_size(file) ‚Üí bool`  
  Verifica que el archivo subido no exceda el l√≠mite de 100 MB.

- **M√©todo:** `LLMBackend.analyze_text(text: str) ‚Üí Dict[str, Any]`  
  Env√≠a la cadena de texto a analizar (combinado con prompt de an√°lisis) y retorna un diccionario con los resultados e insights.

- **Parser de Conversaciones:**  
  Funciones que transforman la conversaci√≥n en un formato normalizado (JSON) con redacci√≥n de PII y extracci√≥n de metadatos relevantes.

------------------------------------------------------------

## üíæ Modelo de Datos

- **Entidades Principales:**
  - **Conversaci√≥n:**  
    Representada internamente como un JSON que incluye:
    - `conversation_id`: Identificador √∫nico.
    - `messages`: Lista de mensajes, donde cada mensaje contiene:
      - `sender`: Rol del emisor (cliente, agente, desconocido).
      - `timestamp`: Marca de tiempo (si se detecta).
      - `content`: Texto del mensaje, ya procesado y con PII redactada.
      - `metadata`: Informaci√≥n adicional (por ejemplo, canal, duraci√≥n, etc.).

- **Transformaciones de Datos y Validaciones:**  
  - Validaci√≥n de que el texto extra√≠do no est√© vac√≠o.
  - Redacci√≥n de PII utilizando expresiones regulares.
  - Segmentaci√≥n de la conversaci√≥n en turnos y asignaci√≥n de roles y metadatos.

------------------------------------------------------------

## üõ†Ô∏è Gu√≠a de Desarrollo

### Configuraci√≥n del Entorno

1. **Prerrequisitos:**
   - Python 3.8 o superior.
   - Conexi√≥n a Internet (para llamadas a APIs de proveedores LLM, si se utiliza en producci√≥n).

2. **Instalaci√≥n:**
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/VoC-Analyst.git
     cd VoC-Analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv venv
     source venv/bin/activate    # En Linux/Mac
     venv\Scripts\activate       # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**
   - Configurar las API keys necesarias para cada proveedor LLM mediante variables de entorno (por ejemplo, `OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, `GEMINI_API_KEY`).

---

### Estructura del C√≥digo

La organizaci√≥n del proyecto es la siguiente:

```
VoC-Analyst/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                # Punto de entrada de la aplicaci√≥n (interfaz Streamlit)
‚îÇ   ‚îú‚îÄ‚îÄ parser.py             # Funciones para parsear y procesar conversaciones
‚îÇ   ‚îî‚îÄ‚îÄ utils.py              # Funciones auxiliares (extracci√≥n de texto, validaciones, etc.)
‚îú‚îÄ‚îÄ llm_backend.py            # M√≥dulo para integraci√≥n y configuraci√≥n de proveedores LLM
‚îú‚îÄ‚îÄ requirements.txt          # Lista de dependencias
‚îî‚îÄ‚îÄ README.md                 # Documentaci√≥n general y gu√≠a de usuario
```

---

### Est√°ndares de C√≥digo

- **Convenciones de Naming:**  
  Se utilizan nombres descriptivos en min√∫sculas con guiones bajos para funciones y nombres de archivos.  
- **Patrones Recomendados:**  
  Se utiliza un enfoque modular, separando estrictamente la l√≥gica de interfaz (Streamlit) de la l√≥gica de negocio (LLMBackend y Parser).  
- **Testing:**  
  Se recomienda la implementaci√≥n de pruebas unitarias (por ejemplo, usando pytest) para:
  - Validar la extracci√≥n de texto de archivos.
  - Probar las validaciones de tama√±o de archivo y manejo de excepciones.
  - Simular peticiones al m√≥dulo LLMBackend y verificar la respuesta de an√°lisis.

---

## üîç Puntos de Atenci√≥n

- **Limitaciones Conocidas:**
  - La aplicaci√≥n depende de la capacidad de extracci√≥n de texto de los PDFs. Archivos basados en im√°genes pueden requerir OCR.
  - El proceso de an√°lisis a trav√©s de LLM puede verse afectado por la calidad y formataci√≥n del texto extra√≠do.
  - An√°lisis en lote a√∫n se encuentra en una modalidad optimizada para procesar m√∫ltiples archivos de forma secuencial (aunque se ha implementado procesamiento en lote en el backend, se debe considerar la carga de archivos muy grandes).
  
- **Consideraciones de Rendimiento:**
  - Procesar archivos muy grandes (cercanos a 100 MB) puede ralentizar la aplicaci√≥n.  
  - Se recomienda implementar cach√© o procesamiento as√≠ncrono en futuras versiones.

- **Aspectos de Seguridad:**
  - Proteger las API keys utilizando variables de entorno y otros mecanismos de seguridad.
  - Redactar adecuadamente la informaci√≥n sensible (PII) antes de enviar datos a proveedores externos.

- **Mejoras Sugeridas (TODOs):**
  - Ampliar el soporte a otros formatos de entrada (por ejemplo, TXT).
  - Integrar OCR para PDFs basados en im√°genes.
  - Desarrollar m√°s controles de validaci√≥n y manejo de errores para garantizar la robustez del sistema.

------------------------------------------------------------

## üìÑ Gu√≠a de Usuario (Breve)

Aunque la presente documentaci√≥n t√©cnica est√° orientada a desarrolladores, a continuaci√≥n se detalla brevemente el flujo b√°sico de uso para los usuarios finales:

1. **Acceso a la Aplicaci√≥n:**  
   Ingrese a la URL indicada y acceda a la interfaz de Streamlit.

2. **Carga de Archivos:**  
   Utilice la opci√≥n ‚ÄúSubir Archivo‚Äù para seleccionar y cargar el PDF deseado.

3. **Inicio del An√°lisis:**  
   Una vez verificados y procesados los archivos, inicie el an√°lisis (‚ÄúAnalizar con LLM‚Äù). Espere a que se genere el reporte.

4. **Visualizaci√≥n y Exportaci√≥n:**  
   Revise los resultados presentados en el panel, que incluyen los insights, m√©tricas de sentimiento, temas detectados y recomendaciones. Exporte los resultados si fuera necesario para informes o an√°lisis adicionales.

------------------------------------------------------------

## Diagrama del Sistema

El siguiente diagrama Mermaid resume la relaci√≥n y el flujo entre los componentes principales del sistema:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[Extracci√≥n y Validaci√≥n de Archivos]
    B --> C[Parser de Conversaciones y Redacci√≥n de PII]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

------------------------------------------------------------

## Conclusi√≥n

Esta documentaci√≥n t√©cnica proporciona una visi√≥n completa de VoC Analyst: su arquitectura modular, el stack tecnol√≥gico, los componentes clave (Interfaz, LLMBackend, Parser de Conversaciones) y la gu√≠a de desarrollo necesaria para realizar modificaciones o extensiones en el sistema. Se recomienda mantener actualizada la documentaci√≥n conforme se realicen cambios y mejoras en el proyecto.

¬°Feliz desarrollo y que disfrutes de una experiencia poderosa en el an√°lisis de la Voz del Cliente!

------------------------------------------------------------

## Diagrama
```mermaid
graph LR
App[app] --> Deps[dependencies]
```


## Diagrama
```mermaid
graph LR\nApp[app]-->Deps[dependencies]\n
```
