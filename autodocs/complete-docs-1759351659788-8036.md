# DocumentaciÃ³n del Proyecto

## GuÃ­a de Usuario
# GuÃ­a de Usuario

Bienvenido a la herramienta de anÃ¡lisis y procesamiento de informaciÃ³n, diseÃ±ada para extraer datos y generar insights a partir de documentos y conversaciones. Esta guÃ­a te acompaÃ±arÃ¡ para que aproveches al mÃ¡ximo todas sus funcionalidades.

---

## ğŸ“± Â¿QuÃ© es esta aplicaciÃ³n?
- **PropÃ³sito principal:**  
  Es una herramienta especializada que te permite procesar archivos PDF, analizar el contenido mediante modelos de lenguaje (IA) y evaluar conversaciones, incluida la Voz del Cliente (VoC), todo a travÃ©s de una interfaz web interactiva basada en Streamlit.
  
- **Problema que resuelve:**  
  Facilita el manejo y anÃ¡lisis de grandes volÃºmenes de informaciÃ³n no estructurada, permitiÃ©ndote extraer insights y tomar decisiones basadas en datos de documentos, conversaciones y feedback de clientes, eliminando la necesidad de procesos manuales extensos.

- **Beneficios clave:**  
  â€¢ Optimiza el anÃ¡lisis de documentos y conversaciones.  
  â€¢ Automatiza la extracciÃ³n de informaciÃ³n relevante.  
  â€¢ Integra anÃ¡lisis avanzados para transformar datos en insights accionables.  
  â€¢ Ofrece una experiencia visual e interactiva que simplifica la interpretaciÃ³n de resultados.

- **Audiencia objetivo:**  
  Profesionales de anÃ¡lisis de datos, equipos de atenciÃ³n al cliente, gestores de proyectos, consultores de negocio y cualquier usuario que necesite transformar informaciÃ³n compleja en insights prÃ¡cticos.

---

## âœ¨ Funcionalidades Principales

### 1. Interfaz Web Interactiva con Streamlit
- **Â¿QuÃ© hace?**  
  Ofrece un entorno visual y dinÃ¡mico donde puedes interactuar con tus datos y anÃ¡lisis sin necesidad de conocimientos tÃ©cnicos profundos.
- **Â¿CuÃ¡ndo usarla?**  
  Ãšsala cada vez que necesites visualizar resultados, navegar entre secciones o interactuar con las diferentes herramientas de anÃ¡lisis.
- **Â¿CÃ³mo acceder?**  
  Ingresa la URL de la aplicaciÃ³n en tu navegador. No se requiere instalaciÃ³n previa, ya que la aplicaciÃ³n se ejecuta en la web.
- **Resultado esperado:**  
  VisualizarÃ¡s un dashboard interactivo con menÃºs, grÃ¡ficos y opciones para explorar tus resultados.

### 2. Procesamiento de Archivos PDF
- **Â¿QuÃ© hace?**  
  Permite la carga y extracciÃ³n automÃ¡tica del contenido textual de archivos PDF para su posterior anÃ¡lisis.
- **Â¿CuÃ¡ndo usarla?**  
  Siempre que tengas informes, documentos o reportes en formato PDF que necesites analizar.
- **Â¿CÃ³mo acceder?**  
  Una vez en la interfaz, dirÃ­gete a la secciÃ³n â€œCargar PDFâ€ y selecciona el archivo de tu dispositivo.
- **Resultado esperado:**  
  El contenido del PDF se mostrarÃ¡ en la pantalla y estarÃ¡ listo para procesos de anÃ¡lisis posteriores.

### 3. AnÃ¡lisis con Modelos de Lenguaje (IA)
- **Â¿QuÃ© hace?**  
  Emplea algoritmos de inteligencia artificial para interpretar y extraer insights del contenido textual.
- **Â¿CuÃ¡ndo usarla?**  
  Ãšsala cuando desees entender rÃ¡pidamente el contenido de documentos o conversaciones, detectar temas relevantes o resumir informaciÃ³n.
- **Â¿CÃ³mo acceder?**  
  DespuÃ©s de cargar el documento o texto, selecciona la opciÃ³n â€œAnalizar con IAâ€ y espera a que se procese la informaciÃ³n.
- **Resultado esperado:**  
  ObtendrÃ¡s un resumen, detecciÃ³n de temas o insights clave que facilitan la toma de decisiones.

### 4. AnÃ¡lisis de Conversaciones
- **Â¿QuÃ© hace?**  
  Examina y procesa el contenido de chats, correos o transcripciones de reuniones para identificar tendencias, sentimientos y temas recurrentes.
- **Â¿CuÃ¡ndo usarla?**  
  Ideal para revisar interacciones de atenciÃ³n al cliente, evaluaciones de reuniones o cualquier diÃ¡logo que requiera anÃ¡lisis profundo.
- **Â¿CÃ³mo acceder?**  
  Accede a la secciÃ³n â€œAnÃ¡lisis de Conversacionesâ€, carga el archivo o pega el contenido del diÃ¡logo y comienza el anÃ¡lisis.
- **Resultado esperado:**  
  Se mostrarÃ¡n grÃ¡ficos y resÃºmenes que delinean el sentimiento, frecuencia de palabras y temas principales de las conversaciones analizadas.

### 5. AnÃ¡lisis de Voz del Cliente (VoC)
- **Â¿QuÃ© hace?**  
  Extrae y evalÃºa feedback y opiniones de clientes a partir de encuestas, comentarios o transcripciones, proporcionando insights sobre la experiencia del cliente.
- **Â¿CuÃ¡ndo usarla?**  
  UtilÃ­zala para evaluar la percepciÃ³n de tus clientes, identificar Ã¡reas de mejora o entender mejor sus necesidades.
- **Â¿CÃ³mo acceder?**  
  Ve a la secciÃ³n â€œVoz del Clienteâ€ e importa el material correspondiente. Luego, inicia el anÃ¡lisis.
- **Resultado esperado:**  
  La aplicaciÃ³n te mostrarÃ¡ mÃ©tricas sobre la satisfacciÃ³n, Ã¡reas de preocupaciÃ³n y recomendaciones basadas en el feedback recopilado.

---

## ğŸš€ CÃ³mo Empezar

### Primer Uso
1. **Requisitos previos:**  
   - ConexiÃ³n estable a Internet.  
   - Acceso a los archivos PDF o transcripciones que deseas analizar.  
   - Navegador web actualizado.
2. **Acceso inicial:**  
   - Ingresa a la URL proporcionada para la aplicaciÃ³n.  
   - AsegÃºrate de leer cualquier mensaje introductorio o tutorial que aparezca.
3. **ConfiguraciÃ³n bÃ¡sica:**  
   - Si es necesario, crea una cuenta o inicia sesiÃ³n (segÃºn configuraciÃ³n de la aplicaciÃ³n).  
   - Configura preferencias bÃ¡sicas como idioma y formato de visualizaciÃ³n.
4. **Primera tarea recomendada:**  
   - Carga un documento PDF o un ejemplo de conversaciÃ³n para familiarizarte con el flujo de anÃ¡lisis.

### Flujo TÃ­pico de Uso
1. **Paso 1:**  
   Inicia sesiÃ³n o accede a la interfaz web. Navega por el dashboard principal.
2. **Paso 2:**  
   Selecciona la funcionalidad deseada (por ejemplo, cargar un PDF o analizar una conversaciÃ³n) y sube tu archivo.
3. **Paso 3:**  
   Ejecuta el anÃ¡lisis y revisa los resultados interpretados, que se mostrarÃ¡n en grÃ¡ficos, resÃºmenes y tablas.

---

## ğŸ’¡ Casos de Uso Comunes

### Escenario 1: AnÃ¡lisis de un Reporte en PDF
**SituaciÃ³n:**  
Necesitas extraer informaciÃ³n clave de un informe extenso en PDF.  
**Pasos:**  
1. Accede a la secciÃ³n â€œProcesamiento de Archivos PDFâ€.  
2. Carga el documento y espera a que se extraiga el contenido.  
3. Usa la opciÃ³n â€œAnalizar con IAâ€ para obtener un resumen y destacar los puntos mÃ¡s importantes.

### Escenario 2: EvaluaciÃ³n de Conversaciones de AtenciÃ³n al Cliente
**SituaciÃ³n:**  
Deseas medir la satisfacciÃ³n a travÃ©s del anÃ¡lisis de chats o transcripciones de atenciÃ³n al cliente.  
**Pasos:**  
1. Entra en la secciÃ³n â€œAnÃ¡lisis de Conversacionesâ€.  
2. Carga o pega los diÃ¡logos de atenciÃ³n.  
3. Revisa el anÃ¡lisis de sentimientos y temas recurrentes para identificar Ã¡reas de mejora.

### Escenario 3: IdentificaciÃ³n de Insights en la Voz del Cliente (VoC)
**SituaciÃ³n:**  
Tienes feedback de clientes recopilado de encuestas y comentarios y necesitas evaluarlo.  
**Pasos:**  
1. DirÃ­gete a la secciÃ³n â€œVoz del Clienteâ€.  
2. Importa el archivo o introduce el contenido.  
3. Observa los resultados que muestran Ã­ndices de satisfacciÃ³n y recomendaciones para optimizar la experiencia del cliente.

---

## â“ Preguntas Frecuentes

**P: Â¿CÃ³mo cargo un archivo PDF para su procesamiento?**  
R: Ingresa a la secciÃ³n â€œProcesamiento de Archivos PDFâ€, haz clic en â€œCargar PDFâ€ y selecciona el archivo desde tu dispositivo. Luego, sigue las instrucciones en pantalla.

**P: Â¿QuÃ© hago si la aplicaciÃ³n tarda en responder o se siente lenta?**  
R: AsegÃºrate de tener una conexiÃ³n estable a Internet y que el archivo no sea demasiado grande. Si el problema persiste, cierra otras pestaÃ±as o reinicia la aplicaciÃ³n.

**P: Â¿Es seguro usar esta herramienta para anÃ¡lisis de datos sensibles?**  
R: SÃ­, la aplicaciÃ³n estÃ¡ diseÃ±ada con medidas de seguridad para proteger tus datos. Sin embargo, siempre se recomienda no cargar informaciÃ³n altamente confidencial si no se cuenta con las debidas protecciones.

**P: Â¿CuÃ¡les son las limitaciones principales de la aplicaciÃ³n?**  
R:  
- No puede procesar archivos en formatos distintos a PDF para el anÃ¡lisis documentado.  
- El anÃ¡lisis de conversaciones y VoC se basa en la calidad del texto proporcionado, por lo que pueden reducirse resultados en textos ambiguos o mal transcritos.  
- Los modelos de IA pueden no captar contextos muy especÃ­ficos o regionales de forma perfecta.

---

## ğŸ†˜ SoluciÃ³n de Problemas

### Problema: El PDF no se carga correctamente
**SÃ­ntomas:**  
- Mensaje de error al intentar subir el archivo.  
**Causa probable:**  
- El archivo puede estar daÃ±ado o en un formato no compatible.  
**SoluciÃ³n:**  
1. Verifica que el archivo PDF se abra en otro lector.  
2. AsegÃºrate de que el archivo no estÃ© protegido con contraseÃ±a.  
3. Intenta cargar un PDF diferente para descartar problemas especÃ­ficos del documento.

### Problema: El anÃ¡lisis tarda demasiado
**SÃ­ntomas:**  
- La interfaz se congela o muestra un mensaje de â€œen procesoâ€ por un tiempo prolongado.  
**Causa probable:**  
- El archivo es muy extenso o la conexiÃ³n a Internet es lenta.  
**SoluciÃ³n:**  
1. Verifica tu conexiÃ³n a Internet.  
2. Intenta dividir el archivo en secciones mÃ¡s pequeÃ±as.  
3. Espera unos minutos y, de ser posible, realiza el anÃ¡lisis en horarios de menor trÃ¡fico.

### Problema: Resultados inesperados en el anÃ¡lisis de conversaciones
**SÃ­ntomas:**  
- Los resÃºmenes o anÃ¡lisis de sentimientos no reflejan lo esperado.  
**Causa probable:**  
- El texto puede contener errores, abreviaturas o lenguaje muy coloquial.  
**SoluciÃ³n:**  
1. Revisa y, si es necesario, corrige manualmente el texto antes de cargarlo.  
2. Considera usar ejemplos de conversaciones con una estructura mÃ¡s clara.  
3. Consulta la secciÃ³n de ayuda para consejos sobre el formato ideal.

---

## ğŸ“ Soporte y Contacto
- **Â¿Necesitas ayuda adicional?**  
  ComunÃ­cate con nuestro equipo de soporte a travÃ©s del correo: soporte@tusanalisisapp.com
- **Â¿Encontraste un error?**  
  Reporta cualquier error en la secciÃ³n â€œReportar un Errorâ€ de la aplicaciÃ³n o envÃ­anos un correo a: reportes@tusanalisisapp.com
- **Â¿Tienes sugerencias?**  
  EnvÃ­anos tus comentarios y sugerencias para mejorar la experiencia en feedback@tusanalisisapp.com

---

Gracias por elegir nuestra herramienta de anÃ¡lisis. Â¡Esperamos que esta guÃ­a te sea de gran ayuda para sacar el mÃ¡ximo provecho a todas las funcionalidades!

## DocumentaciÃ³n TÃ©cnica
A continuaciÃ³n se presenta la documentaciÃ³n tÃ©cnica completa en Markdown del proyecto VoC Analyst, que integra la descripciÃ³n de la arquitectura del sistema, stack tecnolÃ³gico, componentes principales, APIs internas, modelo de datos, guÃ­a de desarrollo y puntos de atenciÃ³n. AdemÃ¡s, se incluye la guÃ­a de usuario que explica de forma prÃ¡ctica cÃ³mo interactuar con la herramienta.

----------------------------------------------------------------
# DocumentaciÃ³n TÃ©cnica

Esta documentaciÃ³n estÃ¡ orientada a desarrolladores y equipos tÃ©cnicos que necesiten comprender, mantener y extender la herramienta VoC Analyst. La soluciÃ³n procesa archivos (por ejemplo, documentos PDF) y analiza la Voz del Cliente (VoC) mediante modelos de lenguaje (LLM). La interfaz se desarrolla en Streamlit y el backend integra la extracciÃ³n de informaciÃ³n, el parser de conversaciones (con redacciÃ³n de informaciÃ³n sensible â€“ PII) y la conexiÃ³n con diferentes proveedores de LLM (OpenAI, Anthropic y Google GenAI).

----------------------------------------------------------------
## ğŸ—ï¸ Arquitectura del Sistema

- **PatrÃ³n arquitectÃ³nico utilizado:**  
  La aplicaciÃ³n implementa una arquitectura modular monolÃ­tica â€œhÃ­bridaâ€ en la que se separa la lÃ³gica de presentaciÃ³n (Frontend) de la lÃ³gica de negocio y anÃ¡lisis (Backend).  
  - La **Capa de PresentaciÃ³n** se desarrolla en Streamlit: gestiona la carga de archivos, la interacciÃ³n del usuario, la visualizaciÃ³n interactiva y la gestiÃ³n del estado mediante `st.session_state`.
  - La **Capa de LÃ³gica y AnÃ¡lisis** abarca la extracciÃ³n y validaciÃ³n de archivos (utilizando PyPDF2 para documentos PDF), el parsing y normalizaciÃ³n de conversaciones â€“ incluyendo la redacciÃ³n (anonimizaciÃ³n) de PII â€“ y la integraciÃ³n con diversos proveedores de modelos de lenguaje (LLM).

- **Diagrama de componentes:**  

  ```mermaid
  graph LR
      A[Interfaz Streamlit (Frontend)] --> B[Procesamiento y ValidaciÃ³n de Archivos]
      A --> C[GestiÃ³n del Estado (st.session_state)]
      B --> D[ExtracciÃ³n de Texto (PyPDF2)]
      B --> E[Parser y RedacciÃ³n de PII]
      A --> F[LLMBackend (LÃ³gica de Negocio)]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de datos principal:**  
  1. El usuario accede a la aplicaciÃ³n mediante la interfaz web y carga archivos (como documentos PDF).  
  2. Se valida el archivo (por ejemplo, comprobando que no exceda el lÃ­mite, mediante la funciÃ³n `validate_file_size`) y se extrae el contenido textual usando la funciÃ³n `extract_text_from_pdf` (que utiliza PyPDF2).  
  3. El contenido extraÃ­do se procesa en el mÃ³dulo de parser, donde se normaliza la conversaciÃ³n, se segmenta el texto en turnos y se redacta la informaciÃ³n sensible (PII).  
  4. El mÃ³dulo **LLMBackend**, configurado con la clase ModelConfig, envÃ­a los datos a los proveedores de LLM mediante prompts predefinidos y recibe insights como anÃ¡lisis de sentimientos, detecciÃ³n de temas y recomendaciones.  
  5. Los resultados se almacenan en `st.session_state` y se visualizan interactivamente en la interfaz.

- **Dependencias crÃ­ticas y su propÃ³sito:**  
  - **Streamlit:** Facilita la creaciÃ³n de la interfaz web interactiva y la gestiÃ³n dinÃ¡mica del estado.  
  - **PyPDF2:** Se utiliza para extraer el contenido textual de los documentos PDF.  
  - **Pandas:** Permite la manipulaciÃ³n y visualizaciÃ³n de datos (por ejemplo, mostrando KPIs y tablas).  
  - **LLM SDKs (openai, anthropic, google-genai):** Integran la aplicaciÃ³n con proveedores externos de modelos de lenguaje para realizar anÃ¡lisis semÃ¡ntico avanzada.
  - Otras librerÃ­as estÃ¡ndar (json, os, time, datetime, uuid, zipfile, io, typing) aportan funcionalidades bÃ¡sicas y manejo de datos.

----------------------------------------------------------------
## ğŸ“‹ Stack TecnolÃ³gico

- **Lenguajes:**  
  Principalmente Python (clasificado en â€œotherâ€ en el repositorio).

- **Frameworks / LibrerÃ­as:**  
  - **Streamlit:** (>= 1.49.1) para la interfaz web interactiva.  
  - **PyPDF2:** (>= 3.0.1) para extraer texto de documentos PDF.  
  - **Pandas:** (>= 2.3.2) para la manipulaciÃ³n y visualizaciÃ³n de datos.  
  - **LLM SDKs:**  
    - `openai` â€“ ConexiÃ³n a modelos de OpenAI.  
    - `anthropic` â€“ IntegraciÃ³n con modelos de Anthropic.  
    - `google-genai` â€“ ConexiÃ³n con Google GenAI (Gemini u otros).  
  - **LibrerÃ­as estÃ¡ndar:** json, os, time, datetime, uuid, zipfile, io, typing.

- **Base de Datos:**  
  No se emplea una base de datos tradicional; el almacenamiento se gestiona de forma transitoria en memoria mediante `st.session_state`.

- **APIs Externas:**  
  Se integran las APIs de proveedores de modelos de lenguaje (LLM) como OpenAI, Anthropic y Google GenAI para realizar anÃ¡lisis de lenguaje e inteligencia artificial.

- **Infraestructura:**  
  La aplicaciÃ³n se despliega como una aplicaciÃ³n web mediante Streamlit y es compatible con instalaciones locales, servidores o contenedores Docker.

----------------------------------------------------------------
## ğŸ”§ Componentes Principales

### 1. AplicaciÃ³n Streamlit

- **PropÃ³sito:**  
  Gestionar la interfaz de usuario final, permitiendo la carga de archivos, el procesamiento interactivo y la visualizaciÃ³n de resultados. TambiÃ©n se encarga de gestionar el estado de la sesiÃ³n mediante `st.session_state`.

- **UbicaciÃ³n:**  
  El punto de entrada principal suele ser el archivo `app.py` (ubicado en la raÃ­z o en un directorio como `app/`), junto con mÃ³dulos auxiliares (por ejemplo, `parser.py` y `utils.py`).

- **Interfaces y Funcionalidades:**  
  - **ConfiguraciÃ³n de la PÃ¡gina:**  
    Se utiliza `st.set_page_config` para definir tÃ­tulo, icono, layout y estado inicial del sidebar.  
  - **GestiÃ³n del Estado:**  
    Variables como:
    - `analysis_results`
    - `run_id`
    - `uploaded_files_data`
    - `processing_complete`  
    se almacenan en `st.session_state`.
  - **Funciones Auxiliares:**  
    - `extract_text_from_pdf(pdf_file) â†’ str`: Lee el PDF, extrae el texto de cada pÃ¡gina y retorna el contenido.  
    - `validate_file_size(file) â†’ bool`: Comprueba que el tamaÃ±o del archivo cumpla con el lÃ­mite preestablecido (ej. 100 MB).

- **Ejemplo de CÃ³digo:**

  ```python
  import streamlit as st
  import PyPDF2

  st.set_page_config(
      page_title="VoC Analyst - AnÃ¡lisis de Voz del Cliente con LLM",
      page_icon="ğŸ“Š",
      layout="wide",
      initial_sidebar_state="expanded"
  )

  if 'analysis_results' not in st.session_state:
      st.session_state.analysis_results = None
  if 'run_id' not in st.session_state:
      st.session_state.run_id = None
  if 'uploaded_files_data' not in st.session_state:
      st.session_state.uploaded_files_data = []
  if 'processing_complete' not in st.session_state:
      st.session_state.processing_complete = False

  def extract_text_from_pdf(pdf_file) -> str:
      """Extraer texto de un archivo PDF"""
      try:
          pdf_reader = PyPDF2.PdfReader(pdf_file)
          text = ""
          for page in pdf_reader.pages:
              text += page.extract_text() + "\n"
          return text.strip()
      except Exception as e:
          st.error(f"Error al extraer texto de PDF: {str(e)}")
          return ""
  ```

---

### 2. MÃ³dulo LLMBackend

- **PropÃ³sito:**  
  Encapsula la integraciÃ³n con proveedores de modelos de lenguaje (LLM) para analizar el contenido textual de los documentos y generar insights (por ejemplo, anÃ¡lisis de sentimientos, detecciÃ³n de temas y recomendaciones).

- **UbicaciÃ³n:**  
  Se encuentra en el archivo `llm_backend.py` en la raÃ­z del proyecto.

- **Interfaces y Funcionalidades:**  
  - **ModelConfig:**  
    Clase que recoge la configuraciÃ³n necesaria para el proveedor, como:
    - `provider`: Nombre del proveedor (ej. "openai", "anthropic", "gemini").
    - `model`: Modelo a utilizar.
    - `api_key`: Clave de autenticaciÃ³n.
    - `max_retries` y `retry_delay`: ParÃ¡metros para reintentos.
    
    ```python
    from dataclasses import dataclass

    @dataclass
    class ModelConfig:
        provider: str  # 'openai', 'anthropic', 'gemini'
        model: str
        api_key: str
        max_retries: int = 3
        retry_delay: float = 1.0
    ```
  
  - **LLMBackend:**  
    Proporciona mÃ©todos esenciales:
    - `__init__(config: ModelConfig)`: Inicializa el backend con la configuraciÃ³n.
    - `_initialize_client()`: Selecciona e instancia el cliente del proveedor LLM adecuado.
    - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan los prompts necesarios para el anÃ¡lisis.
    - `analyze_text(text: str) â†’ Dict[str, Any]`: EnvÃ­a el texto a analizar a travÃ©s del proveedor y retorna un diccionario con los insights.

---

### 3. Parser de Conversaciones y AnÃ¡lisis

- **PropÃ³sito:**  
  Procesar y normalizar el contenido textual extraÃ­do para estructurarlo en un formato (por ejemplo, JSON) que facilite el anÃ¡lisis.  
  Incluye:
  - DivisiÃ³n del texto en turnos de conversaciÃ³n.
  - ExtracciÃ³n de metadatos (como conversation_id, timestamps, roles de interlocutores).
  - RedacciÃ³n (anonimizaciÃ³n) de la informaciÃ³n sensible (PII) usando etiquetas predefinidas (e.g., [EMAIL], [PHONE]).

---

## ğŸš€ APIs y Endpoints

Aunque la aplicaciÃ³n no expone endpoints REST pÃºblicos, se definen â€œAPIs internasâ€ en forma de funciones y mÃ©todos que orquestan todo el flujo de anÃ¡lisis:

- **FunciÃ³n: extract_text_from_pdf(pdf_file) â†’ str**  
  Extrae el contenido textual usando PyPDF2. Gestiona errores mediante try/except y retorna el texto.

- **FunciÃ³n: validate_file_size(file) â†’ bool**  
  Verifica que el tamaÃ±o del archivo cargado no supere el lÃ­mite (ej. 100 MB).

- **MÃ©todo: LLMBackend.analyze_text(text: str) â†’ Dict[str, Any]**  
  EnvÃ­a el texto (junto con un prompt predefinido) al proveedor LLM configurado y retorna los insights (anÃ¡lisis de sentimientos, detecciÃ³n de temas, entre otros).

- **Funciones del Parser:**  
  Transforman el contenido de la conversaciÃ³n en un JSON estructurado, normalizando y redactando la informaciÃ³n sensible (PII) para su posterior anÃ¡lisis.

---

## ğŸ’¾ Modelo de Datos

- **Entidades Principales: ConversaciÃ³n**  
  La informaciÃ³n se modela internamente en un objeto JSON que incluye:
  - `conversation_id`: Identificador Ãºnico derivado del nombre del archivo o de metadatos.
  - `messages`: Lista de mensajes, donde cada mensaje contiene:
    - `sender`: Rol del emisor (cliente, agente, desconocido).
    - `timestamp`: Marca de tiempo (si estÃ¡ disponible).
    - `content`: Texto del mensaje, con la informaciÃ³n sensible ya redactada.
    - `metadata`: InformaciÃ³n adicional (por ejemplo, canal de comunicaciÃ³n, duraciÃ³n, etc.).

- **Esquemas de Entrada y Salida:**  
  - **Entrada:** Archivos PDF o textos (transcripciones) que contengan la conversaciÃ³n.  
  - **Salida:** JSON estructurado que incluye la conversaciÃ³n y los insights obtenidos, listo para ser mostrado en la interfaz.

- **Validaciones y Transformaciones:**  
  - Se valida que el contenido extraÃ­do no sea vacÃ­o ni inconsistente.  
  - Se aplican reglas y expresiones regulares para redactar la PII.  
  - Se estructura el resultado en un JSON homogÃ©neo para facilitar su uso en paneles y dashboards.

---

## ğŸ› ï¸ GuÃ­a de Desarrollo

### 1. ConfiguraciÃ³n del Entorno

1. **Prerrequisitos:**  
   - Python 3.8 o superior.  
   - Acceso a Internet para llamadas a las APIs de proveedores LLM en producciÃ³n.

2. **InstalaciÃ³n:**  
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/VoC-Analyst.git
     cd VoC-Analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv venv
     source venv/bin/activate    # En Linux/Mac
     venv\Scripts\activate       # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   Configure las API keys necesarias para los proveedores LLM mediante variables de entorno:
   - `OPENAI_API_KEY`
   - `ANTHROPIC_API_KEY`
   - `GEMINI_API_KEY`

---

### 2. Estructura del CÃ³digo

La organizaciÃ³n del proyecto es la siguiente:

```
VoC-Analyst/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.py                # Punto de entrada (interfaz Streamlit)
â”‚   â”œâ”€â”€ parser.py             # Funciones de parsing y anÃ¡lisis de conversaciones
â”‚   â””â”€â”€ utils.py              # Funciones auxiliares (extracciÃ³n de texto, validaciÃ³n, etc.)
â”œâ”€â”€ llm_backend.py            # MÃ³dulo para integraciÃ³n con proveedores LLM
â”œâ”€â”€ requirements.txt          # Lista de dependencias
â””â”€â”€ README.md                 # DocumentaciÃ³n general y guÃ­a de usuario
```

---

### 3. EstÃ¡ndares de CÃ³digo y Pruebas

- **Convenciones de Naming:**  
  Utiliza nombres descriptivos en minÃºsculas y con guiones bajos (por ejemplo, `extract_text_from_pdf`).
  
- **SeparaciÃ³n de LÃ³gica:**  
  Se separa la lÃ³gica de la interfaz (Streamlit) de la de negocio (LLMBackend y Parser). Se recomienda el uso de inyecciÃ³n de dependencias mediante la clase `ModelConfig`.
  
- **Testing y ValidaciÃ³n:**  
  Es recomendable implementar pruebas unitarias mediante frameworks como pytest para:
  - Validar la extracciÃ³n correcta de texto.
  - Comprobar el funcionamiento de la funciÃ³n de validaciÃ³n del tamaÃ±o de archivos.
  - Simular la conexiÃ³n y respuesta del mÃ³dulo LLMBackend para verificar el manejo de reintentos.

- **Manejo de Errores y Logging:**  
  Utiliza bloques try/except y, de ser necesario, el mÃ³dulo logging para registrar y depurar errores en producciÃ³n.

---

## ğŸ” Puntos de AtenciÃ³n

- **Limitaciones Conocidas:**
  - La extracciÃ³n de texto depende de la calidad de los archivos PDF; si el documento estÃ¡ basado en una imagen, puede requerirse integraciÃ³n de OCR.
  - El anÃ¡lisis con LLM depende de la calidad del texto extraÃ­do y de la correcta configuraciÃ³n de las API keys.
  - Actualmente, la aplicaciÃ³n procesa un archivo (o un conjunto de ellos) por sesiÃ³n; el procesamiento asÃ­ncrono o en lote podrÃ­a optimizar el rendimiento.

- **Consideraciones de Rendimiento:**
  - Archivos muy grandes (cercanos a 100 MB) pueden afectar el tiempo de respuesta de la aplicaciÃ³n.
  - Se recomienda implementar tÃ©cnicas de caching o procesamiento en lote para anÃ¡lisis repetitivos o documentos voluminosos.

- **Aspectos de Seguridad:**
  - Proteger las API keys mediante variables de entorno y no incluirlas en el cÃ³digo fuente.
  - Redactar la informaciÃ³n sensible (PII) antes de enviarla a proveedores externos.
  
- **Mejoras Sugeridas (TODOs):**
  - Ampliar el soporte a otros formatos (por ejemplo, TXT).
  - Integrar OCR para documentos PDF que contengan imÃ¡genes.
  - Mejorar la modularidad del parser y el manejo de errores en la comunicaciÃ³n con los proveedores de LLM.
  - Implementar procesamiento asÃ­ncrono y/o en lote para optimizar el rendimiento en anÃ¡lisis masivos.

---

## Diagrama del Sistema

El siguiente diagrama Mermaid resume la interacciÃ³n principal entre los componentes:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[ExtracciÃ³n y ValidaciÃ³n de Archivos]
    B --> C[Parser de Conversaciones y RedacciÃ³n de PII]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

---

## ConclusiÃ³n

Esta documentaciÃ³n tÃ©cnica ofrece una visiÃ³n integral del sistema VoC Analyst, abordando desde su arquitectura y stack tecnolÃ³gico hasta los detalles de sus componentes principales y pautas de desarrollo. Se recomienda mantener la documentaciÃ³n actualizada conforme se realicen mejoras o se integren nuevos mÃ³dulos. AdemÃ¡s, se invita a los desarrolladores a consultar el repositorio de issues para resolver dudas o sugerir mejoras.

----------------------------------------------------------------
## Diagrama Final

```mermaid
graph LR
App[app] --> Deps[dependencies]
```

----------------------------------------------------------------
Happy Coding y Â¡Ã©xito en el anÃ¡lisis de la Voz del Cliente!

----------------------------------------------------------------
# GuÃ­a de Usuario

Esta guÃ­a estÃ¡ diseÃ±ada para ayudar a los usuarios a sacar el mÃ¡ximo provecho de la herramienta de anÃ¡lisis VoC Analyst sin necesidad de conocimientos tÃ©cnicos avanzados.

## 1. Â¿QuÃ© es esta aplicaciÃ³n?
La aplicaciÃ³n permite transformar grandes volÃºmenes de datos de documentos PDF y conversaciones en insights valiosos mediante el uso de inteligencia artificial. Entre sus beneficios se encuentran:
- AnÃ¡lisis automatizado de documentos y transcripciones.
- DetecciÃ³n de sentimientos y emociones.
- GeneraciÃ³n de reportes e insights para mejorar la toma de decisiones.

## 2. Funcionalidades Principales

### Interfaz Web Interactiva
- Acceso mediante navegador a la URL correspondiente.
- MenÃº principal con botones y secciones para cargar archivos, analizar datos y ver reportes.

### Procesamiento de Archivos PDF
- Carga y extracciÃ³n de texto de documentos PDF.
- ValidaciÃ³n automÃ¡tica del tamaÃ±o y formato del archivo.

### AnÃ¡lisis con Modelos de Lenguaje (IA)
- ConversiÃ³n del contenido extraÃ­do en insights mediante IA.
- ResÃºmenes, detecciÃ³n de temas y patrones, y recomendaciones basadas en el contenido.

### AnÃ¡lisis de Conversaciones y Voz del Cliente (VoC)
- Procesamiento y anÃ¡lisis de transcripciones de conversaciones.
- EvaluaciÃ³n de sentimientos y emociones.
- GeneraciÃ³n de reportes visuales con grÃ¡ficos y dashboards.

## 3. CÃ³mo Empezar

### Primer Uso
1. Abre tu navegador y visita la URL de la aplicaciÃ³n.
2. Inicia sesiÃ³n (o regÃ­strate, si es tu primer acceso).
3. Explora el menÃº principal para familiarizarte con las opciones.
4. Sube un documento PDF o ingresa una transcripciÃ³n para probar el anÃ¡lisis.
5. Ejecuta el anÃ¡lisis y revisa los resultados generados.

### Flujo TÃ­pico de Uso
1. Inicia sesiÃ³n en la aplicaciÃ³n.
2. Selecciona la opciÃ³n â€œProcesar PDFâ€ (o â€œAnalizar ConversaciÃ³nâ€).
3. Carga el archivo o pega el texto en el Ã¡rea designada.
4. Ejecuta la herramienta de anÃ¡lisis correspondiente (IA, Sentimientos, VoC).
5. Revisa y utiliza el reporte o dashboard resultante para tomar decisiones o mejorar procesos.

## 4. Casos de Uso Comunes

### AnÃ¡lisis de Reportes en PDF
- Sube reportes y utiliza â€œAnalizar con IAâ€ para obtener resÃºmenes y tendencias.
  
### EvaluaciÃ³n de Conversaciones de AtenciÃ³n al Cliente
- Carga transcripciones y utiliza â€œAnalizar ConversaciÃ³nâ€ para detectar puntos crÃ­ticos y Ã¡reas de mejora.

### MonitorizaciÃ³n de la Voz del Cliente
- Utiliza la opciÃ³n â€œAnÃ¡lisis VoCâ€ para evaluar comentarios y feedback de clientes, obteniendo un dashboard de sentimientos y sugerencias.

## 5. Preguntas Frecuentes

**P: Â¿CÃ³mo subo un archivo PDF?**  
R: Selecciona â€œProcesar PDFâ€ en la interfaz, haz clic en â€œCargar Archivoâ€ y sube el documento deseado.

**P: Â¿QuÃ© hago si el anÃ¡lisis tarda demasiado?**  
R: Verifica tu conexiÃ³n a Internet y asegÃºrate de que el tamaÃ±o del archivo sea el adecuado. Si el problema persiste, contacta al soporte.

**P: Â¿Es seguro subir mis documentos?**  
R: SÃ­, la aplicaciÃ³n procesa los datos de forma segura y no almacena informaciÃ³n sensible de manera persistente.

**P: Â¿CuÃ¡l es la principal limitaciÃ³n de la herramienta?**  
R: Actualmente, estÃ¡ optimizada para documentos PDF y textos en formatos compatibles; otros formatos o archivos basados en imÃ¡genes pueden requerir OCR o adaptaciÃ³n.

## 6. Soporte y Contacto

- **Para asistencia:**  
  Escribe a: soporte@tuanalisisapp.com  
- **Para reportar errores:**  
  Envia un correo a: reportes@tuanalisisapp.com  
- **Para sugerencias:**  
  Utiliza: feedback@tuanalisisapp.com

----------------------------------------------------------------
Esta guÃ­a estÃ¡ diseÃ±ada para que cualquier usuario pueda empezar a trabajar de inmediato y extraer insights valiosos de sus documentos y conversaciones, facilitando la toma de decisiones basada en datos.

----------------------------------------------------------------
## Diagrama Final (Resumen Visual)

```mermaid
graph LR
App["app"]-->Deps["dependencies"]
```

----------------------------------------------------------------
Happy Coding y Â¡Ã©xito en el anÃ¡lisis de la Voz del Cliente!

Para consultas, sugerencias o contribuciones, revisa el repositorio de issues o contacta al equipo de desarrollo a travÃ©s de los correos indicados.


## Diagrama
```mermaid
graph LR\nApp["app"]-->Deps["dependencies"]\n
```
