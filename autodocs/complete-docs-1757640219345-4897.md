# DocumentaciÃ³n del Proyecto

## GuÃ­a de Usuario
# GuÃ­a de Usuario

Bienvenido a esta guÃ­a para nuestra herramienta de anÃ¡lisis y procesamiento de informaciÃ³n. AquÃ­ encontrarÃ¡s instrucciones simples y completas para sacar el mÃ¡ximo provecho a la aplicaciÃ³n.

---

## ğŸ“± Â¿QuÃ© es esta aplicaciÃ³n?

- **PropÃ³sito principal**:  
  Es una herramienta interactiva que te ayuda a analizar y procesar informaciÃ³n proveniente de archivos PDF, conversaciones y datos de Voz del Cliente (VoC) usando modelos de lenguaje basados en IA. La interfaz web, desarrollada con Streamlit, te permite realizar estos anÃ¡lisis de manera rÃ¡pida y visual.

- **Problema que resuelve**:  
  Facilita la tarea de extraer informaciÃ³n relevante de grandes volÃºmenes de texto y conversaciones, lo que te ayuda a ahorrar tiempo, detectar tendencias y tomar decisiones basadas en datos sin tener que hacer lecturas manuales exhaustivas.

- **Beneficios clave**:  
  â€¢ AnÃ¡lisis automatizado y preciso de documentos y conversaciones.  
  â€¢ Resultados visuales y fÃ¡ciles de interpretar para obtener insights de forma inmediata.  
  â€¢ Interfaz amigable que no requiere conocimientos tÃ©cnicos avanzados.  
  â€¢ Soporte para distintos tipos de contenido, desde informes en PDF hasta feedback de clientes.

- **Audiencia objetivo**:  
  Profesionales de anÃ¡lisis de datos, equipos de atenciÃ³n al cliente, gestores de calidad, analistas de mercado y cualquier persona interesada en obtener insights de informaciÃ³n textual de manera rÃ¡pida y precisa.

---

## âœ¨ Funcionalidades Principales

### Interfaz Web Interactiva con Streamlit
- **Â¿QuÃ© hace?**:  
  Presenta una interfaz grÃ¡fica intuitiva donde puedes navegar por las distintas herramientas y mÃ³dulos de anÃ¡lisis.
- **Â¿CuÃ¡ndo usarla?**:  
  Siempre que desees iniciar un anÃ¡lisis, cargar documentos o visualizar resultados de manera interactiva.
- **Â¿CÃ³mo acceder?**:  
  Simplemente ingresa la URL de la aplicaciÃ³n en tu navegador web.
- **Resultado esperado**:  
  VerÃ¡s un panel de control con opciones de carga, visualizaciÃ³n de resultados y acceso a otros mÃ³dulos de anÃ¡lisis.

### Procesamiento de Archivos PDF
- **Â¿QuÃ© hace?**:  
  Permite cargar y procesar archivos PDF, extrayendo el texto y preparÃ¡ndolo para su anÃ¡lisis posterior.
- **Â¿CuÃ¡ndo usarla?**:  
  Cuando tengas documentos en PDF que necesites analizar para obtener insights o resumir contenidos.
- **Â¿CÃ³mo acceder?**:  
  Selecciona la opciÃ³n â€œProcesar PDFâ€ en el menÃº principal y sigue las instrucciones para subir tu archivo.
- **Resultado esperado**:  
  El sistema extraerÃ¡ y mostrarÃ¡ el contenido del PDF, listo para ser analizado con las herramientas disponibles.

### AnÃ¡lisis con Modelos de Lenguaje (IA)
- **Â¿QuÃ© hace?**:  
  Utiliza modelos de inteligencia artificial para analizar y extraer informaciÃ³n relevante del texto, incluyendo resÃºmenes, detecciÃ³n de temas y anÃ¡lisis de tono.
- **Â¿CuÃ¡ndo usarla?**:  
  Cuando necesites interpretar grandes volÃºmenes de texto y extraer conclusiones de forma automatizada.
- **Â¿CÃ³mo acceder?**:  
  DespuÃ©s de cargar tu documento o ingresar tu texto, selecciona la opciÃ³n â€œAnÃ¡lisis con IAâ€ y espera a que el anÃ¡lisis se complete.
- **Resultado esperado**:  
  ObtendrÃ¡s un resumen del contenido, insights sobre los temas principales y una evaluaciÃ³n del tono del texto.

### AnÃ¡lisis de Conversaciones
- **Â¿QuÃ© hace?**:  
  Examina transcripciones o registros de conversaciones para identificar patrones, temas recurrentes y sentimientos.
- **Â¿CuÃ¡ndo usarla?**:  
  Cuando trabajas con historiales de conversaciones, chats o feedback de clientes y necesitas identificar tendencias o Ã¡reas de mejora.
- **Â¿CÃ³mo acceder?**:  
  Ve al apartado â€œAnÃ¡lisis de Conversacionesâ€, carga la transcripciÃ³n o copia el texto y ejecuta el anÃ¡lisis.
- **Resultado esperado**:  
  VerÃ¡s agrupaciones de temas, anÃ¡lisis de sentimientos y grÃ¡ficos que resaltan los puntos clave de la conversaciÃ³n.

### AnÃ¡lisis de Voz del Cliente (VoC)
- **Â¿QuÃ© hace?**:  
  Recoge y analiza opiniones, feedback y reseÃ±as de clientes para revelar percepciones y Ã¡reas de mejora en productos o servicios.
- **Â¿CuÃ¡ndo usarla?**:  
  Cuando necesites evaluar la satisfacciÃ³n del cliente y obtener insights sobre su experiencia.
- **Â¿CÃ³mo acceder?**:  
  Selecciona la opciÃ³n â€œAnÃ¡lisis de VoCâ€, sube el archivo o ingresa la informaciÃ³n del feedback y lanza el anÃ¡lisis.
- **Resultado esperado**:  
  Se generarÃ¡n visualizaciones y reportes que destacan los sentimientos del cliente, tendencias en el feedback y oportunidades de mejora.

---

## ğŸš€ CÃ³mo Empezar

### Primer Uso
1. **Requisitos previos**:  
   â€¢ Tener acceso a un navegador web moderno (Chrome, Firefox, Safari, etc.)  
   â€¢ Contar con archivos PDF, transcripciones de conversaciones o datos de feedback que requieras analizar.
2. **Acceso inicial**:  
   Ingresa a la URL proporcionada de la aplicaciÃ³n en tu navegador.
3. **ConfiguraciÃ³n bÃ¡sica**:  
   Revisa y acepta cualquier aviso de privacidad o condiciones de uso que aparezcan la primera vez que accedes.
4. **Primera tarea recomendada**:  
   Prueba cargando un archivo PDF pequeÃ±o para familiarizarte con el proceso de extracciÃ³n y anÃ¡lisis.

### Flujo TÃ­pico de Uso
1. **Paso 1**: Ingresa a la interfaz web mediante tu navegador.
2. **Paso 2**: Selecciona la funcionalidad que necesites (ej. Procesar un PDF o analizar conversaciones).
3. **Paso 3**: Carga el archivo o ingresa el texto en el mÃ³dulo correspondiente.
4. **Paso 4**: Ejecuta el anÃ¡lisis y espera a que se muestren los resultados.
5. **Paso 5**: Revisa los reportes y visualizaciones generadas por la herramienta para obtener insights.

---

## ğŸ’¡ Casos de Uso Comunes

### Escenario 1: AnÃ¡lisis de un Informe en PDF
**SituaciÃ³n**: Necesitas extraer y resumir la informaciÃ³n de un informe extenso en PDF.  
**Pasos**: 
1. Selecciona â€œProcesamiento de Archivos PDFâ€ en la interfaz.  
2. Carga el documento y espera la extracciÃ³n del contenido.  
3. Ejecuta el â€œAnÃ¡lisis con Modelos de Lenguajeâ€ para obtener un resumen y datos relevantes.

### Escenario 2: EvaluaciÃ³n de Conversaciones de AtenciÃ³n al Cliente
**SituaciÃ³n**: Quieres identificar patrones y Ã¡reas de mejora en las interacciones con clientes.  
**Pasos**: 
1. Accede a la secciÃ³n â€œAnÃ¡lisis de Conversacionesâ€.  
2. Sube la transcripciÃ³n de una conversaciÃ³n o chat.  
3. Revisa el anÃ¡lisis de sentimientos y la agrupaciÃ³n de temas para detectar oportunidades de mejora.

### Escenario 3: RevisiÃ³n de Voz del Cliente (VoC)
**SituaciÃ³n**: Buscas evaluar el feedback recibido de tus clientes para mejorar productos o servicios.  
**Pasos**: 
1. Ingresa a la opciÃ³n â€œAnÃ¡lisis de Voz del Clienteâ€.  
2. Carga el archivo o copia los comentarios de los clientes.  
3. Examina las visualizaciones y reportes que destacan comentarios positivos, Ã¡reas crÃ­ticas y tendencias en la percepciÃ³n del cliente.

---

## â“ Preguntas Frecuentes

**P: Â¿CÃ³mo subo un archivo PDF para su anÃ¡lisis?**  
R: En la secciÃ³n â€œProcesamiento de Archivos PDFâ€, haz clic en â€œCargar archivoâ€, selecciona tu PDF y presiona el botÃ³n de â€œIniciar AnÃ¡lisisâ€.

**P: Â¿QuÃ© hago si la aplicaciÃ³n no responde o muestra un error?**  
R: Revisa tu conexiÃ³n a internet, refresca la pÃ¡gina y asegÃºrate de que el archivo cumple con los formatos y tamaÃ±os permitidos. Si el problema persiste, consulta la secciÃ³n de soluciÃ³n de problemas.

**P: Â¿Es seguro usar la herramienta para analizar informaciÃ³n confidencial?**  
R: SÃ­, se han implementado medidas de seguridad para proteger tus datos. Sin embargo, es recomendable no subir informaciÃ³n altamente sensible o, de hacerse, contar con las polÃ­ticas de privacidad adecuadas en tu organizaciÃ³n.

**P: Â¿CuÃ¡les son las limitaciones principales de la aplicaciÃ³n?**  
R:  
- No reemplaza un anÃ¡lisis humano experto en casos complejos.  
- Los archivos con formatos no estÃ¡ndar o excesivamente grandes pueden presentar dificultades.  
- La precisiÃ³n del anÃ¡lisis depende de la claridad y calidad del texto proporcionado.

---

## ğŸ†˜ SoluciÃ³n de Problemas

### Problema: Error al cargar un archivo PDF
- **SÃ­ntomas**:  
  La aplicaciÃ³n muestra un mensaje de error o no carga el contenido del archivo.
- **Causa probable**:  
  El archivo puede estar daÃ±ado, tener un formato incompatible o exceder el tamaÃ±o permitido.
- **SoluciÃ³n**:  
  Verifica que el archivo sea un PDF vÃ¡lido, comprueba el tamaÃ±o y, de ser necesario, prueba con otro archivo.

### Problema: Demora en la generaciÃ³n de resultados del anÃ¡lisis
- **SÃ­ntomas**:  
  El proceso de anÃ¡lisis tarda mÃ¡s de lo esperado o parece quedar â€œcolgadoâ€.
- **Causa probable**:  
  El archivo o texto ingresado es muy extenso o la conexiÃ³n a internet es inestable.
- **SoluciÃ³n**:  
  Intenta reducir el tamaÃ±o del documento, verifica tu conexiÃ³n y vuelve a ejecutar el anÃ¡lisis.

### Problema: VisualizaciÃ³n incorrecta del panel de control
- **SÃ­ntomas**:  
  Los elementos de la interfaz se muestran desalineados o algunos botones no responden.
- **Causa probable**:  
  Esto puede deberse a una incompatibilidad temporal con el navegador.
- **SoluciÃ³n**:  
  Actualiza tu navegador a la Ãºltima versiÃ³n o prueba usar otro navegador (Chrome, Firefox, etc.).

---

## ğŸ“ Soporte y Contacto

- **Â¿Necesitas ayuda adicional?**  
  Puedes contactar al equipo de soporte enviando un correo a soporte@tudominio.com.
  
- **Â¿Encontraste un error?**  
  Utiliza el formulario de â€œReporte de Erroresâ€ disponible en la secciÃ³n de soporte de la aplicaciÃ³n o envÃ­a un correo detallando el problema.
  
- **Â¿Tienes sugerencias?**  
  Estamos siempre atentos a tus comentarios. Por favor, envÃ­a tus sugerencias y feedback a feedback@tudominio.com.

---

Esperamos que esta guÃ­a te sea de ayuda para utilizar la herramienta de manera efectiva. Â¡Gracias por elegir nuestra aplicaciÃ³n para potenciar tu anÃ¡lisis de informaciÃ³n!

## DocumentaciÃ³n TÃ©cnica
A continuaciÃ³n se presenta la documentaciÃ³n tÃ©cnica completa en Markdown, siguiendo la estructura obligatoria y basada en el anÃ¡lisis del cÃ³digo y los documentos de guÃ­a del repositorio.

---

# DocumentaciÃ³n TÃ©cnica

Esta documentaciÃ³n estÃ¡ orientada a desarrolladores y equipos tÃ©cnicos interesados en comprender, mantener y extender el sistema VoC Analyst. La herramienta procesa archivos (por ejemplo, documentos PDF) para extraer y analizar la Voz del Cliente (VoC) mediante modelos de lenguaje (LLM). La interfaz se implementa con Streamlit y el backend integra la conexiÃ³n con proveedores LLM (OpenAI, Anthropic, Google GenAI).

---

## ğŸ—ï¸ Arquitectura del Sistema

- **PatrÃ³n arquitectÃ³nico utilizado:**  
  La aplicaciÃ³n sigue un enfoque modular monolÃ­tico â€œhÃ­bridoâ€ que separa la lÃ³gica de presentaciÃ³n y la lÃ³gica de negocio.  
  - **Capa de PresentaciÃ³n (Frontend):**  
    Implementada completamente con Streamlit. Se encarga de la carga de archivos, manejo de la interfaz y visualizaciÃ³n interactiva de los resultados, gestionando el estado de la sesiÃ³n mediante `st.session_state`.
  - **Capa de LÃ³gica y AnÃ¡lisis (Backend):**  
    Incluye mÃ³dulos para la extracciÃ³n y preprocesamiento de archivos (utilizando PyPDF2), el parser y anÃ¡lisis de conversaciones â€“incluyendo redacciÃ³n de informaciÃ³n sensible (PII)â€“ y la integraciÃ³n con proveedores de modelos de lenguaje (LLM) mediante la clase LLMBackend.

- **Diagrama de componentes (Mermaid):**

  ```mermaid
  graph LR
      A[Interfaz Streamlit (Frontend)] --> B[Procesamiento y ValidaciÃ³n de Archivos]
      A --> C[GestiÃ³n del Estado (st.session_state)]
      B --> D[ExtracciÃ³n de Texto (PyPDF2)]
      B --> E[Parser y RedacciÃ³n de PII]
      A --> F[LLMBackend (LÃ³gica de Negocio)]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de datos principal:**  
  1. El usuario accede a la aplicaciÃ³n mediante la interfaz web (Streamlit) y carga archivos (por ejemplo, archivos PDF).
  2. Se valida que los archivos cumplan con restricciones (por ejemplo, tamaÃ±o menor a 100MB mediante `validate_file_size`) y se extrae el contenido textual utilizando PyPDF2 mediante la funciÃ³n `extract_text_from_pdf`.
  3. El texto extraÃ­do es procesado mediante funciones de parser, que normalizan la conversaciÃ³n y redactan la informaciÃ³n sensible (PII).
  4. La capa de negocio usa el mÃ³dulo LLMBackend para enviar el contenido a los proveedores de LLM â€“mediante prompts preconfiguradosâ€“ y obtener insights (anÃ¡lisis de sentimientos, detecciÃ³n de temas, recomendaciones, etc.).
  5. Los resultados se almacenan en el objeto `st.session_state` y se muestran de manera interactiva en la interfaz.

- **Dependencias crÃ­ticas y su propÃ³sito:**  
  - **Streamlit:** Permite la creaciÃ³n de la interfaz web interactiva y gestiona el estado de la sesiÃ³n.
  - **PyPDF2:** Se utiliza para extraer el contenido textual de los documentos PDF.
  - **Pandas:** Facilita la manipulaciÃ³n y visualizaciÃ³n de los datos extraÃ­dos (por ejemplo, en tableros y grÃ¡ficos).
  - **LLM SDKs (openai, anthropic, google-genai):** Integran y conectan la aplicaciÃ³n con diferentes proveedores de modelos de lenguaje para realizar anÃ¡lisis semÃ¡nticos avanzados.
  - **Otras librerÃ­as estÃ¡ndar:** json, os, time, datetime, uuid, zipfile, io, typing â€“ utilizadas para operaciones bÃ¡sicas y de manejo de datos.

---

## ğŸ“‹ Stack TecnolÃ³gico

- **Lenguajes:**  
  Principalmente Python (catalogado como â€œotherâ€ en el repositorio).

- **Frameworks / LibrerÃ­as:**  
  - **Streamlit:** (>= 1.49.1) para la interfaz web interactiva.
  - **PyPDF2:** (>= 3.0.1) para la extracciÃ³n de texto desde documentos PDF.
  - **Pandas:** (>= 2.3.2) para la manipulaciÃ³n y visualizaciÃ³n de datos.
  - **LLM SDKs:**  
    - `openai` â€“ Para integrar modelos de OpenAI.
    - `anthropic` â€“ Para conectar con modelos de Anthropic.
    - `google-genai` â€“ Para la integraciÃ³n con Google Gemini u otros modelos de Google GenAI.
  - **LibrerÃ­as estÃ¡ndar:** json, os, time, datetime, uuid, zipfile, io, typing.

- **Base de datos:**  
  No se utiliza una base de datos relacional; el almacenamiento es transitorio y se gestiona mediante `st.session_state`.

- **APIs externas:**  
  Se integran APIs de proveedores de modelos LLM (OpenAI, Anthropic, Google GenAI) para realizar anÃ¡lisis semÃ¡ntico y generar insights.

- **Infraestructura:**  
  La aplicaciÃ³n se despliega como una aplicaciÃ³n web simple con Streamlit, y puede ejecutarse en entornos locales, servidores o contenedores Docker.

---

## ğŸ”§ Componentes Principales

### 1. AplicaciÃ³n Streamlit

- **PropÃ³sito:**  
  Gestiona la interfaz de usuario, la carga y validaciÃ³n de archivos, y la visualizaciÃ³n interactiva de los resultados. TambiÃ©n se encarga de inicializar y mantener el estado de la sesiÃ³n con `st.session_state`.

- **UbicaciÃ³n:**  
  Principalmente en el archivo de entrada, por ejemplo, `app.py` (ubicado en la raÃ­z o en la carpeta `app/`) junto con mÃ³dulos auxiliares (como `parser.py` y `utils.py`).

- **Interfaces / MÃ©todos Expuestos:**  
  - ConfiguraciÃ³n de la pÃ¡gina mediante `st.set_page_config` (tÃ­tulo, icono, layout).
  - GestiÃ³n de variables clave mediante `st.session_state` (por ejemplo, `analysis_results`, `run_id`, `uploaded_files_data`, `processing_complete`).
  - Funciones auxiliares:
    - `extract_text_from_pdf(pdf_file) â†’ str`: Extrae el contenido textual del PDF.
    - `validate_file_size(file) â†’ bool`: Verifica que el archivo no exceda el tamaÃ±o mÃ¡ximo (100MB).

- **Dependencias:**  
  Utiliza Streamlit, PyPDF2, Pandas y utilidades de Python (modulos os, time, uuid, etc.).

---

### 2. MÃ³dulo LLMBackend

- **PropÃ³sito:**  
  Sirve como puente entre la aplicaciÃ³n y los proveedores de modelos de lenguaje (LLM). Se encarga de enviar solicitudes al proveedor seleccionado para analizar el texto y obtener insights, gestionando reintentos y la configuraciÃ³n necesaria.

- **UbicaciÃ³n:**  
  Se encuentra en el archivo `llm_backend.py` en la raÃ­z del proyecto.

- **Interfaces / MÃ©todos Expuestos:**  
  - **ModelConfig:**  
    Una clase de configuraciÃ³n que especifica:
    - `provider`: Nombre del proveedor (ej. "openai", "anthropic", "gemini").
    - `model`: Modelo especÃ­fico a utilizar.
    - `api_key`: Clave de autenticaciÃ³n.
    - `max_retries` y `retry_delay`: ParÃ¡metros para gestionar reintentos en caso de fallo.
  
  - **LLMBackend:**  
    MÃ©todos bÃ¡sicos:
    - `__init__(config: ModelConfig)`: Inicializa la instancia utilizando la configuraciÃ³n.
    - `_initialize_client()`: Selecciona e instancia el cliente para el proveedor LLM adecuado.
    - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan o definen los prompts a usar para parsear y analizar el contenido.
    - `analyze_text(text: str) â†’ Dict[str, Any]`: EnvÃ­a el texto para anÃ¡lisis y retorna los insights obtenidos.

- **Dependencias:**  
  Utiliza las librerÃ­as especÃ­ficas para cada proveedor (openai, anthropic, google-genai) y librerÃ­as bÃ¡sicas de Python.

---

### 3. ExtracciÃ³n y Procesamiento de Archivos

- **PropÃ³sito:**  
  Gestionar la carga, validaciÃ³n y extracciÃ³n del contenido textual de los archivos subidos, especialmente documentos PDF.
  
- **Funciones Clave:**  
  - `extract_text_from_pdf(pdf_file) â†’ str`: Recorre cada pÃ¡gina del archivo PDF para extraer y concatenar el texto.
  - `validate_file_size(file) â†’ bool`: Asegura que el tamaÃ±o del archivo no exceda 100MB.

- **Consideraciones:**  
  Estas funciones soportan la normalizaciÃ³n de la entrada para que la informaciÃ³n estÃ© lista para el anÃ¡lisis posterior.

---

### 4. Parser y AnÃ¡lisis de Conversaciones

- **PropÃ³sito:**  
  Procesar y estructurar las conversaciones (por ejemplo, extraÃ­das de PDFs o ingresadas manualmente) en un formato JSON que incluya:
  - IdentificaciÃ³n de metadatos como `conversation_id`, timestamps y roles (cliente, agente, desconocido).
  - RedacciÃ³n de informaciÃ³n sensible (PII) reemplazÃ¡ndola por etiquetas estÃ¡ndar, como `[EMAIL]` o `[PHONE]`.
  
- **Funcionamiento:**  
  - El texto se divide en turnos de conversaciÃ³n.
  - Se extraen metadatos y se normaliza la informaciÃ³n.
  - El resultado es un JSON estructurado listo para el anÃ¡lisis LLM.

---

## ğŸš€ APIs y Endpoints

Aunque la aplicaciÃ³n no expone endpoints REST pÃºblicos, se disponen de â€œAPIs internasâ€ a travÃ©s de funciones y mÃ©todos que orquestan los siguientes procesos:

- **FunciÃ³n:** `extract_text_from_pdf(pdf_file) â†’ str`  
  Extrae el contenido textual del archivo PDF y gestiona errores mediante bloques try/except.

- **FunciÃ³n:** `validate_file_size(file) â†’ bool`  
  Verifica que el archivo cumpla con el lÃ­mite de tamaÃ±o (100MB).

- **MÃ©todo:** `LLMBackend.analyze_text(text: str) â†’ Dict[str, Any]`  
  EnvÃ­a el texto (combinado con el prompt de anÃ¡lisis) al proveedor LLM configurado y retorna un diccionario con los insights obtenidos (anÃ¡lisis de sentimientos, detecciÃ³n de temas, recomendaciones, etc.).

- **Funciones del Parser:**  
  Transforman las conversaciones en un formato estructurado (JSON), normalizando la informaciÃ³n y redactando la PII para asegurar la privacidad.

---

## ğŸ’¾ Modelo de Datos

- **Entidades Principales:**  
  - **ConversaciÃ³n:** Se representa internamente como un objeto JSON que incluye:
    - `conversation_id`: Identificador Ãºnico.
    - `messages`: Lista de mensajes, donde cada mensaje contiene:
      - `sender`: Rol del emisor (cliente, agente, desconocido).
      - `timestamp`: Marca de tiempo del mensaje (si estÃ¡ disponible).
      - `content`: Texto del mensaje, con la informaciÃ³n sensible ya redactada.
      - `metadata`: InformaciÃ³n adicional (por ejemplo, canal, duraciÃ³n, etc.).

- **Esquemas de Entrada y Salida:**  
  - **Entrada:** Archivos PDF o textos ingresados manualmente.
  - **Salida:** Objeto JSON estructurado que se utiliza para generar grÃ¡ficos, tablas y otros reportes en la interfaz.

- **Validaciones y Transformaciones:**  
  - Se verifica que el texto extraÃ­do sea no vacÃ­o y estÃ© correctamente formateado.
  - Se aplican reglas de redacciÃ³n para anonimizar la informaciÃ³n sensible.
  - Se estructura el JSON para facilitar la integraciÃ³n con mÃ³dulos de anÃ¡lisis y visualizaciÃ³n.

---

## ğŸ› ï¸ GuÃ­a de Desarrollo

### ConfiguraciÃ³n del Entorno

1. **Prerrequisitos:**  
   - Python 3.8 o superior.
   - ConexiÃ³n a Internet para acceder a las APIs de los proveedores LLM en producciÃ³n.

2. **InstalaciÃ³n:**  
   - Clona el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/voc-analyst.git
     cd voc-analyst
     ```
   - Crea y activa un entorno virtual:
     ```bash
     python -m venv venv
     source venv/bin/activate    # En Linux/Mac
     venv\Scripts\activate       # En Windows
     ```
   - Instala las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   Configura las API keys mediante variables de entorno, por ejemplo:
   - `OPENAI_API_KEY`
   - `ANTHROPIC_API_KEY`
   - `GEMINI_API_KEY`

---

### Estructura de CÃ³digo

La organizaciÃ³n del proyecto es la siguiente:

```
VoC-Analyst/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.py                # Punto de entrada: Interfaz de usuario con Streamlit
â”‚   â”œâ”€â”€ parser.py             # Funciones de parseo y procesamiento de conversaciones
â”‚   â””â”€â”€ utils.py              # Funciones auxiliares (extracciÃ³n de texto, validaciÃ³n, etc.)
â”œâ”€â”€ llm_backend.py            # MÃ³dulo para la integraciÃ³n con proveedores LLM
â”œâ”€â”€ requirements.txt          # Lista de dependencias
â””â”€â”€ README.md                 # DocumentaciÃ³n general y guÃ­a de usuario
```

---

### EstÃ¡ndares de CÃ³digo

- **Convenciones de Naming:**  
  Utiliza nombres descriptivos en minÃºsculas y con guiones bajos para archivos y funciones (por ejemplo, `extract_text_from_pdf`).

- **PatrÃ³n de SeparaciÃ³n:**  
  Se separa la lÃ³gica de la interfaz (Streamlit) de la lÃ³gica de negocio (LLMBackend, Parser).  
  Se recomienda el uso de inyecciÃ³n de dependencias a travÃ©s de la clase `ModelConfig` para mantener la flexibilidad.

- **Testing y ValidaciÃ³n:**  
  Implementa pruebas unitarias con frameworks como pytest para:
  - Validar la extracciÃ³n de texto.
  - Probar la funciÃ³n de validaciÃ³n del tamaÃ±o del archivo.
  - Simular las peticiones al mÃ³dulo LLMBackend y verificar el manejo de respuestas y reintentos.
  
- **Manejo de Errores y Logging:**  
  Cada mÃ³dulo debe emplear bloques try/except para capturar excepciones y utilizar el mÃ³dulo logging para registrar eventos crÃ­ticos.

---

## ğŸ” Puntos de AtenciÃ³n

- **Limitaciones Conocidas:**  
  - La extracciÃ³n de texto depende de la calidad del documento PDF; documentos basados en imÃ¡genes pueden requerir la integraciÃ³n de OCR.
  - Los anÃ¡lisis LLM dependerÃ¡n de la calidad del texto extraÃ­do y de la configuraciÃ³n adecuada de la API key.
  - La versiÃ³n actual procesa un archivo por sesiÃ³n; el procesamiento en lote para mÃºltiples documentos puede estar limitado.

- **Consideraciones de Rendimiento:**  
  - El procesamiento de archivos muy extensos (cercanos a 100MB) puede afectar la velocidad y respuesta de la aplicaciÃ³n.
  - Se recomienda implementar tÃ©cnicas de caching o procesamiento asÃ­ncrono para mejorar el rendimiento en anÃ¡lisis repetitivos.

- **Aspectos de Seguridad:**  
  - Protege las API keys utilizando variables de entorno y evita exponerlas en el cÃ³digo fuente.
  - Redacta adecuadamente la informaciÃ³n sensible (PII) antes de enviarla a proveedores externos.
  
- **Mejoras Sugeridas (TODOs):**  
  - Ampliar el soporte a otros formatos de archivo (por ejemplo, TXT).
  - Integrar OCR para documentos PDF basados en imÃ¡genes.
  - Mejorar la modularidad y manejo de errores en el parser y en la comunicaciÃ³n con proveedores LLM.

---

## Diagrama de Dependencias

El siguiente diagrama Mermaid resume la interacciÃ³n principal entre la interfaz, el procesamiento de archivos, el mÃ³dulo LLMBackend y el parser:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[Procesamiento de Archivos]
    B --> C[Parser y NormalizaciÃ³n de Conversaciones]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

---

## Consideraciones Finales

- **Escalabilidad:**  
  La arquitectura modular permite la fÃ¡cil integraciÃ³n de nuevos proveedores LLM y funcionalidades adicionales sin reestructurar la interfaz de usuario.

- **Manejo de Errores:**  
  La correcta implementaciÃ³n de bloques try/except y el uso del logging son fundamentales para una adecuada detecciÃ³n y resoluciÃ³n de problemas en producciÃ³n.

- **Seguridad:**  
  Protege la informaciÃ³n sensible no solo en la transmisiÃ³n (por ejemplo, usando HTTPS) sino tambiÃ©n en la redacciÃ³n de datos (PII).

- **DocumentaciÃ³n:**  
  MantÃ©n actualizada la documentaciÃ³n interna y los comentarios en el cÃ³digo para facilitar la colaboraciÃ³n entre desarrolladores y futuros mantenimientos.

---

## Diagrama Final

```mermaid
graph LR
App[app]-->Deps[dependencies]
```

---

Happy Coding y Ã©xito en el anÃ¡lisis de la Voz del Cliente. Para dudas, sugerencias o contribuciones, consulta el repositorio de issues o contacta al equipo de desarrollo.


## Diagrama
```mermaid
graph LR\nApp["app"]-->Deps["dependencies"]\n
```
