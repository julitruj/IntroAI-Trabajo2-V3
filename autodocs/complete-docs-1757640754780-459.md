# Documentaci√≥n del Proyecto

## Gu√≠a de Usuario
# Gu√≠a de Usuario

## üì± ¬øQu√© es esta aplicaci√≥n?
- **Prop√≥sito principal**:  
  Esta herramienta te permite procesar y analizar informaci√≥n de documentos PDF y conversaciones usando modelos de lenguaje basados en inteligencia artificial, todo a trav√©s de una interfaz web interactiva creada con Streamlit.
  
- **Problema que resuelve**:  
  Transforma documentos y conversaciones (como transcripciones y feedback de clientes) en informaci√≥n clara y accionable, facilitando la extracci√≥n de insights √∫tiles para la toma de decisiones.

- **Beneficios clave**:  
  ‚Ä¢ Interfaz intuitiva y f√°cil de usar.  
  ‚Ä¢ Automatizaci√≥n en la digitalizaci√≥n y an√°lisis de documentos PDF.  
  ‚Ä¢ An√°lisis inteligente de textos con IA para descubrir patrones y tendencias.  
  ‚Ä¢ Recopilaci√≥n y evaluaci√≥n de la Voz del Cliente (VoC) para mejorar productos y servicios.
  
- **Audiencia objetivo**:  
  Profesionales de an√°lisis de datos, equipos de atenci√≥n al cliente, marketing y cualquier usuario que necesite transformar informaci√≥n no estructurada en insights f√°cilmente comprensibles.

## ‚ú® Funcionalidades Principales

### Interfaz Web Interactiva con Streamlit
- **¬øQu√© hace?**:  
  Ofrece un entorno visual amigable donde puedes acceder a todas las herramientas de la aplicaci√≥n de manera centralizada.
  
- **¬øCu√°ndo usarla?**:  
  √ösala cada vez que necesites acceder o gestionar cualquier funcionalidad, desde la carga de archivos hasta el an√°lisis con IA.
  
- **¬øC√≥mo acceder?**:  
  Ingresa a la URL de la aplicaci√≥n a trav√©s de tu navegador. Si se requiere, inicia sesi√≥n con tus credenciales.
  
- **Resultado esperado**:  
  Visualizar√°s un panel de control con opciones claras para procesar documentos, analizar conversaciones y revisar la Voz del Cliente.

### Procesamiento de Archivos PDF
- **¬øQu√© hace?**:  
  Permite cargar y extraer contenido de documentos PDF para su posterior an√°lisis.
  
- **¬øCu√°ndo usarla?**:  
  Cuando necesitas digitalizar y transformar la informaci√≥n contenida en archivos PDF en texto legible y procesable.
  
- **¬øC√≥mo acceder?**:  
  Desde el men√∫ principal de la interfaz, selecciona "Procesar PDF" y usa el bot√≥n para subir el archivo deseado.
  
- **Resultado esperado**:  
  Ver√°s el contenido extra√≠do del archivo PDF en formato de texto, listo para ser analizado con las otras herramientas de la aplicaci√≥n.

### An√°lisis con Modelos de Lenguaje (IA)
- **¬øQu√© hace?**:  
  Utiliza avanzados modelos de lenguaje para analizar el texto, identificar tendencias, resumir informaci√≥n y responder a consultas espec√≠ficas.
  
- **¬øCu√°ndo usarla?**:  
  Cuando necesites interpretar y resumir grandes vol√∫menes de texto o cuando quieras descubrir patrones y recomendaciones autom√°ticamente.
  
- **¬øC√≥mo acceder?**:  
  Una vez que un documento ha sido procesado o una conversaci√≥n transcrita, selecciona la opci√≥n "Analizar con IA" desde el men√∫.
  
- **Resultado esperado**:  
  Recibir√°s un reporte detallado o un resumen con insights clave derivados del contenido analizado.

### An√°lisis de Conversaciones
- **¬øQu√© hace?**:  
  Analiza transcripciones de conversaciones, chats u otros formatos de comunicaci√≥n para identificar temas relevantes y evaluar el tono de las interacciones.
  
- **¬øCu√°ndo usarla?**:  
  Ideal para equipos que necesitan evaluar la calidad del servicio al cliente o entender mejor las inquietudes de los usuarios.
  
- **¬øC√≥mo acceder?**:  
  Ve a la secci√≥n "An√°lisis de Conversaciones" en la aplicaci√≥n y carga el archivo o conecta la fuente de datos correspondiente.
  
- **Resultado esperado**:  
  Se generar√°n reportes y gr√°ficos visuales que muestran los temas m√°s frecuentes, el √°nimo de las conversaciones y otros insights relevantes.

### An√°lisis de Voz del Cliente (VoC)
- **¬øQu√© hace?**:  
  Recoge y analiza feedback y opiniones de los clientes para ayudarte a conocer mejor sus necesidades y expectativas.
  
- **¬øCu√°ndo usarla?**:  
  Cuando quieras recoger informaci√≥n directa de tus clientes para mejorar productos o servicios.
  
- **¬øC√≥mo acceder?**:  
  Selecciona "Voz del Cliente" en el men√∫ principal y sigue las instrucciones para conectar y subir datos de encuestas o comentarios.
  
- **Resultado esperado**:  
  Visualizar√°s dashboards y reportes que resaltan la satisfacci√≥n de los clientes y √°reas de mejora basadas en sus comentarios.

## üöÄ C√≥mo Empezar

### Primer Uso
1. **Requisitos previos**:  
   Aseg√∫rate de tener acceso a la aplicaci√≥n a trav√©s de tu navegador y de contar con los documentos o datos (como archivos PDF y transcripciones) que deseas analizar.
   
2. **Acceso inicial**:  
   Ingresa a la aplicaci√≥n mediante la URL proporcionada. Si es la primera vez, sigue el proceso de registro o inicia sesi√≥n con tus credenciales.
   
3. **Configuraci√≥n b√°sica**:  
   Configura tus preferencias de usuario, selecciona el idioma, y explora el men√∫ principal para familiarizarte con las opciones disponibles.
   
4. **Primera tarea recomendada**:  
   Sube un documento PDF o una transcripci√≥n para probar el proceso de an√°lisis desde el inicio.

### Flujo T√≠pico de Uso
1. **Paso 1**:  
   Inicia sesi√≥n en la interfaz web de la aplicaci√≥n.
   
2. **Paso 2**:  
   Selecciona la funci√≥n que necesitas (por ejemplo, "Procesar PDF" o "Analizar Conversaciones").
   
3. **Paso 3**:  
   Sigue los pasos espec√≠ficos para la funcionalidad elegida y revisa el reporte o gr√°fico generado.
   
4. **Paso 4**:  
   Utiliza los insights obtenidos para tomar decisiones o mejorar la calidad del servicio/producto.

## üí° Casos de Uso Comunes

### Escenario 1: Resumen de Reportes en PDF
Situaci√≥n: Necesitas resumir y extraer la informaci√≥n clave de m√∫ltiples informes de ventas en formato PDF.  
Pasos: 
1. Sube cada uno de los PDF en la secci√≥n "Procesar PDF".  
2. Utiliza "An√°lisis con IA" para obtener un resumen de los datos y descubrir tendencias.  
3. Revisa el reporte final y aplica los insights para ajustar estrategias de ventas.

### Escenario 2: Optimizaci√≥n del Servicio al Cliente
Situaci√≥n: Buscas mejorar la calidad del servicio a trav√©s del an√°lisis de transcripciones de chat.  
Pasos: 
1. Accede a la secci√≥n "An√°lisis de Conversaciones" y carga las transcripciones.  
2. Observa los reportes que indican los temas recurrentes y el tono general de las interacciones.  
3. Implementa mejoras basadas en estas conclusiones.

### Escenario 3: Evaluaci√≥n de la Voz del Cliente
Situaci√≥n: Quieres obtener feedback sobre un nuevo producto a partir de encuestas y comentarios.  
Pasos:
1. Dir√≠gete a "An√°lisis de Voz del Cliente".  
2. Conecta las fuentes de feedback disponibles o sube archivos con respuestas.  
3. Analiza el dashboard para identificar √°reas de mejora y puntos fuertes en la percepci√≥n del producto.

## ‚ùì Preguntas Frecuentes

P: ¬øC√≥mo subo un archivo PDF para su an√°lisis?  
R: En la pantalla principal, selecciona "Procesar PDF", haz clic en el bot√≥n para cargar tu archivo y espera a que se procese.

P: ¬øQu√© hago si no se genera el reporte de an√°lisis de IA?  
R: Revisa que el archivo cargado contenga texto legible y vuelve a intentarlo. Si el problema persiste, contacta al soporte t√©cnico.

P: ¬øEs seguro procesar mis documentos en esta aplicaci√≥n?  
R: S√≠, la aplicaci√≥n utiliza protocolos de seguridad para proteger tus datos y garantizar la confidencialidad de la informaci√≥n procesada.

P: ¬øCu√°les son las limitaciones principales?  
R: La aplicaci√≥n est√° optimizada para documentos en idioma espa√±ol y puede presentar dificultades con textos altamente especializados o formatos at√≠picos.

## üÜò Soluci√≥n de Problemas

### Problema: Error al cargar un archivo PDF
- S√≠ntomas: El archivo no se carga correctamente o se muestra un mensaje de error.
- Causa probable: El archivo podr√≠a estar da√±ado o no ser un PDF v√°lido.
- Soluci√≥n: Aseg√∫rate de que el archivo es un PDF correcto, vuelve a intentarlo y, si el problema persiste, contacta al soporte.

### Problema: Resultados incompletos en el an√°lisis con IA
- S√≠ntomas: El reporte generado no muestra toda la informaci√≥n esperada.
- Causa probable: El contenido del documento o transcripci√≥n puede ser insuficiente o poco claro.
- Soluci√≥n: Verifica que el documento tenga informaci√≥n relevante y vuelve a procesarlo. Revisa adem√°s las configuraciones de an√°lisis.

### Problema: Interfaz lenta o sin respuesta
- S√≠ntomas: La aplicaci√≥n se cuelga o responde muy lentamente.
- Causa probable: Sobrecarga de datos o problemas temporales de conexi√≥n.
- Soluci√≥n: Recarga la p√°gina, comprueba tu conexi√≥n a internet y reintenta la operaci√≥n. Si el problema contin√∫a, comun√≠cate con soporte.

## üìû Soporte y Contacto
- **¬øNecesitas ayuda adicional?**  
  Contacta a soporte t√©cnico mediante el correo: soporte@tuempresa.com.
  
- **¬øEncontraste un error?**  
  Utiliza el formulario de contacto en la secci√≥n "Soporte" para reportarlo.
  
- **¬øTienes sugerencias?**  
  Env√≠a tus comentarios y sugerencias a: feedback@tuempresa.com.

---

Esta gu√≠a est√° dise√±ada para ayudarte a sacarle el m√°ximo provecho a la aplicaci√≥n, facilitando el procesamiento y an√°lisis de tus documentos y conversaciones de forma sencilla y eficiente. ¬°Explora las funcionalidades y transforma tus datos en insights valiosos!

## Documentaci√≥n T√©cnica
A continuaci√≥n se muestra la documentaci√≥n t√©cnica completa en Markdown, organizada seg√∫n la estructura obligatoria solicitada y basada en el an√°lisis del c√≥digo, la gu√≠a de usuario y los diagramas proporcionados.

---

# Documentaci√≥n T√©cnica

Esta documentaci√≥n est√° orientada a desarrolladores y equipos t√©cnicos interesados en comprender, mantener y extender la aplicaci√≥n VoC Analyst. La herramienta procesa archivos (por ejemplo, documentos PDF) y analiza la Voz del Cliente (VoC) mediante modelos de lenguaje (LLM). La interfaz se implementa con Streamlit y el backend integra la conexi√≥n con proveedores de LLM (OpenAI, Anthropic y Google GenAI).

---

## üèóÔ∏è Arquitectura del Sistema

- **Patr√≥n arquitect√≥nico utilizado:**  
  La aplicaci√≥n adopta una arquitectura modular monol√≠tica ‚Äúh√≠brida‚Äù que separa la l√≥gica de presentaci√≥n de la l√≥gica de negocio.  
  - **Capa de Presentaci√≥n (Frontend):** Se implementa con Streamlit, que permite la carga de archivos, la interacci√≥n del usuario, la visualizaci√≥n din√°mica de resultados y la gesti√≥n del estado de la sesi√≥n mediante `st.session_state`.  
  - **Capa de L√≥gica y An√°lisis (Backend):** Comprende m√≥dulos para la extracci√≥n y preprocesamiento de archivos (utilizando PyPDF2), el parser y normalizaci√≥n de conversaciones (incluyendo la redacci√≥n de datos sensibles, PII) y la integraci√≥n con proveedores de modelos de lenguaje (LLM).

- **Diagrama de componentes:**

  ```mermaid
  graph LR
      A[Interfaz Streamlit (Frontend)] --> B[Procesamiento y Validaci√≥n de Archivos]
      A --> C[Gesti√≥n del Estado (st.session_state)]
      B --> D[Extracci√≥n de Texto (PyPDF2)]
      B --> E[Parser y Redacci√≥n de PII]
      A --> F[LLMBackend (L√≥gica de Negocio)]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de datos principal entre componentes:**  
  1. El usuario accede a la aplicaci√≥n mediante la interfaz web y carga uno o m√°s archivos, en su mayor√≠a en formato PDF.  
  2. Se aplican funciones de validaci√≥n (por ejemplo, `validate_file_size`) y se extrae el contenido textual por medio de `extract_text_from_pdf` (utilizando PyPDF2).  
  3. El texto extra√≠do es enviado al m√≥dulo de parser, que normaliza y segmenta la conversaci√≥n, redactando cualquier informaci√≥n sensible (PII).  
  4. La capa de negocio usa el m√≥dulo **LLMBackend** para enviar el contenido a los proveedores LLM (configurados mediante ModelConfig), obteniendo insights (an√°lisis de sentimientos, detecci√≥n de temas, recomendaciones, etc.).  
  5. Los resultados se almacenan en `st.session_state` y se presentan interactivamente en la interfaz.

- **Dependencias cr√≠ticas y su prop√≥sito:**  
  - **Streamlit:** Facilita la creaci√≥n de la interfaz web interactiva y la gesti√≥n del estado de la sesi√≥n.  
  - **PyPDF2:** Extrae el contenido textual de archivos PDF.  
  - **Pandas:** Permite la manipulaci√≥n y visualizaci√≥n de datos a trav√©s de DataFrames.  
  - **LLM SDKs (openai, anthropic, google-genai):** Integran y conectan la aplicaci√≥n con proveedores de modelos de lenguaje para realizar an√°lisis sem√°ntico avanzado.  
  - **Otras librer√≠as est√°ndar:** json, os, time, datetime, uuid, zipfile, io, typing, que soportan operaciones b√°sicas y manejo de datos.

---

## üìã Stack Tecnol√≥gico

- **Lenguajes:**  
  Principalmente Python (catalogado como ‚Äúother‚Äù en el repositorio).

- **Frameworks / Librer√≠as:**  
  - **Streamlit:** (>= 1.49.1) para la creaci√≥n de la interfaz web interactiva.  
  - **PyPDF2:** (>= 3.0.1) para extraer el contenido textual desde documentos PDF.  
  - **Pandas:** (>= 2.3.2) para la manipulaci√≥n y visualizaci√≥n de datos.  
  - **LLM SDKs:**  
    - `openai` para integrarse con la API de OpenAI.  
    - `anthropic` para la integraci√≥n con proveedores de Anthropic.  
    - `google-genai` para conectar con Google GenAI (Gemini u otros modelos).  
  - **Librer√≠as est√°ndar:** json, os, time, datetime, uuid, zipfile, io, typing.

- **Base de Datos:**  
  No se utiliza una base de datos relacional; el almacenamiento se realiza transitoriamente en memoria utilizando `st.session_state`.

- **APIs externas:**  
  Se integran las APIs de proveedores de LLM (OpenAI, Anthropic y Google GenAI) a trav√©s de llamadas directas en el m√≥dulo LLMBackend.

- **Infraestructura:**  
  La aplicaci√≥n se despliega como una aplicaci√≥n web simple mediante Streamlit, pudiendo ejecutarse en entornos locales, servidores o contenedores Docker.

---

## üîß Componentes Principales

### 1. Aplicaci√≥n Streamlit

- **Prop√≥sito:**  
  Gestiona la interfaz de usuario final, incluyendo la carga y validaci√≥n de archivos, la configuraci√≥n de la p√°gina y la visualizaci√≥n interactiva de resultados. Se encarga adem√°s de gestionar el estado de la sesi√≥n mediante `st.session_state`.

- **Ubicaci√≥n:**  
  El punto de entrada principal es el archivo `app.py` (ubicado en la ra√≠z o en el directorio `app/`), junto con m√≥dulos auxiliares como `parser.py` y `utils.py`.

- **Interfaces y Funcionalidades:**  
  - **Configuraci√≥n de la P√°gina:**  
    Se utiliza `st.set_page_config` para definir el t√≠tulo, el icono, el layout y el estado inicial del sidebar.
  - **Gesti√≥n de Estado:**  
    Con `st.session_state`, se almacenan variables clave como:  
      - `analysis_results`: Resultados del an√°lisis.  
      - `run_id`: Identificador √∫nico de cada ejecuci√≥n.  
      - `uploaded_files_data`: Lista con informaci√≥n y metadatos de los archivos subidos.  
      - `processing_complete`: Indicador del estado de finalizaci√≥n del an√°lisis.
  - **Funciones Auxiliares:**  
    - `extract_text_from_pdf(pdf_file) ‚Üí str`: Recorre el PDF, extrae el texto de cada p√°gina y retorna el contenido completo.  
    - `validate_file_size(file) ‚Üí bool`: Comprueba que el tama√±o del archivo no exceda el l√≠mite predefinido (ej. 100MB).

- **Ejemplo de C√≥digo:**

  ```python
  import streamlit as st
  import PyPDF2

  st.set_page_config(
      page_title="VoC Analyst - An√°lisis de Voz del Cliente con LLM",
      page_icon="üìä",
      layout="wide",
      initial_sidebar_state="expanded"
  )

  if 'analysis_results' not in st.session_state:
      st.session_state.analysis_results = None
  if 'run_id' not in st.session_state:
      st.session_state.run_id = None
  if 'uploaded_files_data' not in st.session_state:
      st.session_state.uploaded_files_data = []
  if 'processing_complete' not in st.session_state:
      st.session_state.processing_complete = False

  def extract_text_from_pdf(pdf_file) -> str:
      """Extraer texto de archivo PDF"""
      try:
          pdf_reader = PyPDF2.PdfReader(pdf_file)
          text = ""
          for page in pdf_reader.pages:
              text += page.extract_text() + "\n"
          return text.strip()
      except Exception as e:
          st.error(f"Error al extraer texto de PDF: {str(e)}")
          return ""
  ```

---

### 2. M√≥dulo LLMBackend

- **Prop√≥sito:**  
  Facilitar la integraci√≥n con proveedores de Modelos de Lenguaje (LLM) para analizar el contenido textual y generar insights (res√∫menes, an√°lisis de sentimientos, detecci√≥n de temas y recomendaciones).

- **Ubicaci√≥n:**  
  Se encuentra en el archivo `llm_backend.py` en la ra√≠z del proyecto.

- **Interfaces y Funcionalidades:**  
  - **ModelConfig:**  
    Una clase de configuraci√≥n (implementada con dataclasses) que define:
    - `provider`: Nombre del proveedor a utilizar (por ejemplo, "openai", "anthropic" o "gemini").
    - `model`: Modelo espec√≠fico a emplear.
    - `api_key`: Clave para la autenticaci√≥n.
    - `max_retries` y `retry_delay`: Par√°metros para la gesti√≥n de reintentos.
    
    ```python
    from dataclasses import dataclass

    @dataclass
    class ModelConfig:
        provider: str  # Ej: "openai", "anthropic", "gemini"
        model: str
        api_key: str
        max_retries: int = 3
        retry_delay: float = 1.0
    ```
  
  - **LLMBackend:**  
    Provee m√©todos para:
    - Inicializar el cliente LLM adecuado mediante `_initialize_client()`.
    - Cargar los prompts correspondientes con `_load_parse_prompt()` y `_load_analyze_prompt()`.
    - Enviar el texto a analizar mediante `analyze_text(text: str) ‚Üí Dict[str, Any]` y retornar los insights generados.

---

### 3. Parser y Procesamiento de Conversaciones

- **Prop√≥sito:**  
  Procesar y normalizar las conversaciones extra√≠das de los archivos o ingresadas manualmente, transform√°ndolas en un formato JSON estructurado para facilitar el an√°lisis posterior.  
  Incluye:
  - La segmentaci√≥n del texto en turnos de conversaci√≥n.
  - La extracci√≥n de metadatos (por ejemplo, `conversation_id`, timestamps y roles).
  - La redacci√≥n (anonimizaci√≥n) de informaci√≥n sensible (PII) sustituy√©ndola por etiquetas estandarizadas (p.ej., `[EMAIL]`, `[PHONE]`).

- **Ubicaci√≥n:**  
  Las funciones de parser se encuentran en el archivo `parser.py` o integradas en los m√≥dulos de procesamiento dentro de `app/`.

- **Dependencias:**  
  Se pueden utilizar expresiones regulares y funciones de manipulaci√≥n de cadenas para estructurar y anonimizar la informaci√≥n.

---

## üöÄ APIs y Endpoints

Aunque la aplicaci√≥n no expone endpoints REST p√∫blicos, se han definido ‚ÄúAPIs internas‚Äù a nivel de funciones y m√©todos:

- **Funci√≥n: extract_text_from_pdf(pdf_file) ‚Üí str**  
  Extrae el contenido textual de un archivo PDF utilizando PyPDF2, notificando errores a trav√©s de la interfaz.

- **Funci√≥n: validate_file_size(file) ‚Üí bool**  
  Verifica que el archivo subido no exceda el l√≠mite de tama√±o permitido (por ejemplo, 100MB).

- **M√©todo: LLMBackend.analyze_text(text: str) ‚Üí Dict[str, Any]**  
  Env√≠a el texto a analizar, junto con un prompt predefinido, al proveedor LLM configurado y retorna un diccionario con los resultados (insights, an√°lisis de sentimientos, temas, etc.).

- **Funciones del Parser:**  
  Transforman las conversaciones extra√≠das en un formato JSON estructurado, normalizando la informaci√≥n y redactando la PII para su an√°lisis posterior.

---

## üíæ Modelo de Datos

- **Entidades Principales: Conversaci√≥n**  
  Se representa internamente como un objeto JSON con la siguiente estructura:
  - `conversation_id`: Identificador √∫nico.
  - `messages`: Lista de mensajes, donde cada mensaje contiene:
    - `sender`: Rol del emisor (cliente, agente, desconocido).
    - `timestamp`: Momento de env√≠o (si disponible).
    - `content`: Texto del mensaje con la informaci√≥n sensible ya redactada.
    - `metadata`: Informaci√≥n adicional (por ejemplo, canal de comunicaci√≥n, duraci√≥n, etc.).

- **Esquemas de Entrada y Salida:**
  - **Entrada:** Archivos PDF o textos ingresados.
  - **Salida:** JSON estructurado con la conversaci√≥n y los insights obtenidos para ser visualizados en la interfaz.

- **Validaciones y Transformaciones:**  
  - Se valida que el texto extra√≠do sea v√°lido y no est√© vac√≠o.  
  - Se aplican reglas para redactar y anonimizar datos sensibles (PII).  
  - Se estructura el resultado en un formato JSON homog√©neo para facilitar su consumo por m√≥dulos de visualizaci√≥n.

---

## üõ†Ô∏è Gu√≠a de Desarrollo

### 1. Configuraci√≥n del Entorno

1. **Prerrequisitos:**  
   - Python 3.8 o superior.  
   - Conexi√≥n a Internet (para llamadas a las APIs de proveedores LLM en producci√≥n).

2. **Instalaci√≥n:**  
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/voc-analyst.git
     cd voc-analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv env
     source env/bin/activate    # En Linux/Mac
     venv\Scripts\activate       # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   Configura las API keys mediante variables de entorno:
   - `OPENAI_API_KEY`
   - `ANTHROPIC_API_KEY`
   - `GEMINI_API_KEY`

---

### 2. Estructura del C√≥digo

La estructura del proyecto es la siguiente:

```
VoC-Analyst/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                # Punto de entrada (Interfaz de usuario con Streamlit)
‚îÇ   ‚îú‚îÄ‚îÄ parser.py             # Funciones para parseo y procesamiento de conversaciones
‚îÇ   ‚îî‚îÄ‚îÄ utils.py              # Funciones auxiliares (extracci√≥n de texto, validaci√≥n, etc.)
‚îú‚îÄ‚îÄ llm_backend.py            # M√≥dulo para integraci√≥n con proveedores LLM
‚îú‚îÄ‚îÄ requirements.txt          # Lista de dependencias
‚îî‚îÄ‚îÄ README.md                 # Documentaci√≥n general y gu√≠a de usuario
```

---

### 3. Est√°ndares de C√≥digo

- **Convenciones de Naming:**  
  Utiliza nombres descriptivos en min√∫sculas y con guiones bajos para identificar archivos y funciones (por ejemplo, `extract_text_from_pdf`).
  
- **Separaci√≥n de L√≥gica:**  
  La l√≥gica de la interfaz (Streamlit) se separa de la l√≥gica de negocio (LLMBackend y Parser). Se recomienda el uso de inyecci√≥n de dependencias a trav√©s de la clase `ModelConfig`.

- **Testing y Validaci√≥n:**  
  - Emplear frameworks como pytest para escribir pruebas unitarias y de integraci√≥n, cubriendo funciones cr√≠ticas como la extracci√≥n de texto, validaci√≥n del tama√±o y la interacci√≥n con el LLM.
  
- **Manejo de Errores y Logging:**  
  Se deben introducir bloques try/except en funciones cr√≠ticas y utilizar m√≥dulos de logging para registrar errores y facilitar la depuraci√≥n.

---

## üîç Puntos de Atenci√≥n

- **Limitaciones Conocidas:**  
  - La extracci√≥n de texto depende de la calidad de los documentos PDF; PDFs basados en im√°genes pueden requerir integraci√≥n de OCR.
  - El rendimiento en el procesamiento de archivos muy grandes (cercanos a 100MB) puede verse afectado.
  
- **Consideraciones de Rendimiento:**  
  - Se recomienda optimizar el procesamiento en lote para an√°lisis repetitivos y considerar t√©cnicas de caching.
  - Ajustar los par√°metros de reintentos (`max_retries` y `retry_delay`) para garantizar una comunicaci√≥n estable con los proveedores LLM.

- **Aspectos de Seguridad:**  
  - Proteger las API keys utilizando variables de entorno y evitar exponerlas en el c√≥digo fuente.
  - Redactar la informaci√≥n sensible (PII) antes de enviarla a proveedores externos, conforme a las pol√≠ticas de privacidad.

- **Mejoras Sugeridas (TODOs):**  
  - Extender el soporte a otros formatos de archivo (por ejemplo, TXT).
  - Integrar OCR para documentos PDF basados en im√°genes.
  - Mejorar la modularidad y el manejo de errores en el parser y en la capa de conexi√≥n con proveedores LLM.
  - Implementar procesamiento as√≠ncrono y/o en lote para optimizar el rendimiento en an√°lisis masivos.

---

## Diagrama del Sistema

El siguiente diagrama Mermaid resume la interacci√≥n entre los componentes principales del sistema:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[Procesamiento y Validaci√≥n de Archivos]
    B --> C[Parser y Normalizaci√≥n de Conversaciones]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

---

## Consideraciones Finales

- **Escalabilidad y Mantenimiento:**  
  La arquitectura modular facilita la integraci√≥n de nuevos proveedores LLM y la extensi√≥n de funcionalidades sin reestructurar la interfaz.
- **Manejo de Errores:**  
  Es imprescindible el uso de bloques try/except y la implementaci√≥n de mecanismos de logging para monitorizar y depurar el sistema.
- **Seguridad:**  
  Se debe prestar especial atenci√≥n a la protecci√≥n de las API keys y a la redacci√≥n (anonimizaci√≥n) de la informaci√≥n sensible.
- **Documentaci√≥n:**  
  Mant√©n la documentaci√≥n actualizada conforme se realicen cambios o se integren nuevas funcionalidades.

---

## Gu√≠a de Usuario ‚Äì Resumen Pr√°ctico

1. **Acceso a la Aplicaci√≥n:**  
   Inicia el navegador y visita la URL asignada (ej.: http://localhost:8501) para cargar la interfaz.
2. **Carga de Archivos:**  
   Usa la opci√≥n ‚ÄúCargar PDF‚Äù para subir tus documentos o ‚ÄúAnalizar Conversaci√≥n‚Äù para procesar transcripciones.
3. **Ejecuci√≥n del An√°lisis:**  
   Selecciona la funcionalidad de an√°lisis (por ejemplo, ‚ÄúAnalizar con IA‚Äù), y espera a que se procesen los datos.
4. **Visualizaci√≥n y Exportaci√≥n:**  
   Revisa los reportes, gr√°ficos e insights y utiliza las opciones de exportaci√≥n (JSON, CSV) si deseas guardar los resultados.
5. **Soporte:**  
   En caso de problemas, consulta la secci√≥n de ‚ÄúPreguntas Frecuentes‚Äù o contacta al soporte mediante los correos indicados.

---

## Diagrama Final

```mermaid
graph LR
App[app] --> Deps[dependencies]
```

---

Happy Coding y ¬°√©xito en el an√°lisis de la Voz del Cliente!  
Para cualquier duda, sugerencia o contribuci√≥n, revisa el repositorio de issues o contacta al equipo de desarrollo.

---

## Diagrama (Resumen Visual)

```mermaid
graph LR
App["app"]-->Deps["dependencies"]
```



## Diagrama
```mermaid
graph LR\nApp["app"]-->Deps["dependencies"]\n
```
