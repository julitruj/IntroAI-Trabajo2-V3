# DocumentaciÃ³n del Proyecto

## GuÃ­a de Usuario
# GuÃ­a de Usuario

Bienvenido a nuestra herramienta de anÃ¡lisis y procesamiento de informaciÃ³n. A continuaciÃ³n, te ofrecemos una guÃ­a prÃ¡ctica para que aproveches al mÃ¡ximo todas las funcionalidades que hemos desarrollado para facilitar el manejo y anÃ¡lisis de archivos y datos.

---

## ğŸ“± Â¿QuÃ© es esta aplicaciÃ³n?

- **PropÃ³sito principal**: Esta aplicaciÃ³n te permite procesar archivos PDF, analizar conversaciones y extraer insights de la Voz del Cliente (VoC) utilizando modelos de lenguaje basados en IA, todo a travÃ©s de una interfaz web interactiva desarrollada con Streamlit.
- **Problema que resuelve**: Facilita el trabajo con grandes volÃºmenes de informaciÃ³n y documentos, permitiendo transformar datos en insights accionables sin necesidad de conocimientos tÃ©cnicos avanzados.
- **Beneficios clave**:
  - ConversiÃ³n y anÃ¡lisis de archivos PDF de manera rÃ¡pida y precisa.
  - ExtracciÃ³n de informaciÃ³n relevante de conversaciones y opiniones de clientes.
  - VisualizaciÃ³n intuitiva de resultados en una interfaz web amigable.
  - AutomatizaciÃ³n del anÃ¡lisis mediante modelos de lenguaje, ahorrando tiempo y recursos.
- **Audiencia objetivo**: Personas y equipos que trabajan en Ã¡reas de atenciÃ³n al cliente, anÃ¡lisis de datos, marketing y gestiÃ³n de documentos, que buscan optimizar la comprensiÃ³n de grandes volÃºmenes de informaciÃ³n de manera sencilla y eficiente.

---

## âœ¨ Funcionalidades Principales

### Interfaz Web Interactiva con Streamlit
- **Â¿QuÃ© hace?**: Ofrece un entorno web amigable donde podrÃ¡s interactuar con las demÃ¡s funcionalidades de la aplicaciÃ³n.
- **Â¿CuÃ¡ndo usarla?**: Al iniciar la aplicaciÃ³n o cuando quieras visualizar y manipular los resultados del anÃ¡lisis.
- **Â¿CÃ³mo acceder?**: Inicia la aplicaciÃ³n en tu navegador siguiendo el enlace o direcciÃ³n IP proporcionada.
- **Resultado esperado**: Una interfaz limpia e intuitiva que te permite navegar y usar las demÃ¡s herramientas sin complicaciones.

### Procesamiento de Archivos PDF
- **Â¿QuÃ© hace?**: Permite cargar y extraer contenido de archivos PDF para que pueda ser analizado.
- **Â¿CuÃ¡ndo usarla?**: Cuando tengas un documento PDF del que necesites extraer datos o informaciÃ³n para su anÃ¡lisis posterior.
- **Â¿CÃ³mo acceder?**: Desde la interfaz principal, selecciona la opciÃ³n â€œCargar PDFâ€, y sigue las instrucciones para subir el archivo.
- **Resultado esperado**: El contenido del PDF se muestra en pantalla y se prepara para anÃ¡lisis, con datos estructurados y listos para ser procesados.

### AnÃ¡lisis con Modelos de Lenguaje (IA)
- **Â¿QuÃ© hace?**: Utiliza modelos de lenguaje basados en IA para interpretar y extraer insights de textos y documentos.
- **Â¿CuÃ¡ndo usarla?**: Cuando necesites obtener un resumen, identificar temas clave o entender profundamente el contenido de un documento.
- **Â¿CÃ³mo acceder?**: Selecciona la opciÃ³n â€œAnalizar Textoâ€ o â€œEjecutar IAâ€ desde el menÃº principal una vez que el contenido estÃ© cargado.
- **Resultado esperado**: Se desplegarÃ¡n insights, resÃºmenes y puntos clave del texto analizado, facilitando la toma de decisiones.

### AnÃ¡lisis de Conversaciones
- **Â¿QuÃ© hace?**: Analiza transcripciones o registros de conversaciones para identificar patrones, emociones y temas recurrentes.
- **Â¿CuÃ¡ndo usarla?**: Ãšsala cuando tengas datos de llamadas, chats o cualquier forma de comunicaciÃ³n que requiera un anÃ¡lisis profundo.
- **Â¿CÃ³mo acceder?**: Dentro de la interfaz, elige â€œAnalizar Conversacionesâ€, sube la transcripciÃ³n o registro, y ejecuta la herramienta.
- **Resultado esperado**: Se presentarÃ¡ un informe con visualizaciones y mÃ©tricas que resuman los puntos clave de las conversaciones analizadas.

### AnÃ¡lisis de Voz del Cliente (VoC)
- **Â¿QuÃ© hace?**: Examina los comentarios, opiniones y feedback de los clientes para entender su experiencia y satisfacciÃ³n.
- **Â¿CuÃ¡ndo usarla?**: Cuando recolectes feedback de clientes y necesites identificar Ã¡reas de mejora o puntos fuertes en el servicio.
- **Â¿CÃ³mo acceder?**: Desde el menÃº principal, selecciona â€œAnÃ¡lisis VoCâ€, carga o introduce el feedback, y ejecuta el anÃ¡lisis.
- **Resultado esperado**: ObtendrÃ¡s un informe detallado que resalta tendencias y sentimientos predominantes en las opiniones de los clientes.

---

## ğŸš€ CÃ³mo Empezar

### Primer Uso
1. **Requisitos previos**:  
   - Acceso a un navegador web moderno.  
   - Tener listos los archivos PDF, transcripciones o feedback para anÃ¡lisis.
2. **Acceso inicial**:  
   - Ingresa a la aplicaciÃ³n a travÃ©s del enlace o direcciÃ³n IP proporcionada por tu administrador.
3. **ConfiguraciÃ³n bÃ¡sica**:  
   - Acepta cualquier configuraciÃ³n inicial o permisos que se te soliciten.
4. **Primera tarea recomendada**:  
   - Carga un documento PDF o una transcripciÃ³n y prueba la funcionalidad de â€œProcesamiento de Archivos PDFâ€ para familiarizarte con la herramienta.

### Flujo TÃ­pico de Uso
1. **Paso 1**: Ingresa a la aplicaciÃ³n mediante tu navegador.
2. **Paso 2**: Selecciona la funcionalidad deseada (por ejemplo, â€œCargar PDFâ€ para procesar un documento).
3. **Paso 3**: Sigue las instrucciones en pantalla para subir y analizar tu archivo.
4. **Paso 4**: Revisa los resultados del anÃ¡lisis y utiliza las visualizaciones interactivas para profundizar en la informaciÃ³n.

---

## ğŸ’¡ Casos de Uso Comunes

### Escenario 1: AnÃ¡lisis de un Reporte en PDF
**SituaciÃ³n**: Tienes un reporte en PDF que contiene informaciÃ³n detallada de ventas.  
**Pasos**: 
1. Selecciona â€œProcesamiento de Archivos PDFâ€ desde la interfaz.
2. Carga el archivo y espera a que se extraiga el contenido.
3. Usa â€œAnÃ¡lisis con Modelos de Lenguajeâ€ para obtener un resumen y resaltar los puntos clave.
**Resultado final**: Un resumen claro de las tendencias de ventas y Ã¡reas de oportunidad.

### Escenario 2: EvaluaciÃ³n de Feedback de Clientes
**SituaciÃ³n**: Requieres entender la satisfacciÃ³n del cliente a partir de sus comentarios.  
**Pasos**: 
1. Accede a â€œAnÃ¡lisis de Voz del Cliente (VoC)â€.
2. Sube o introduce el feedback recogido.
3. Ejecuta el anÃ¡lisis para identificar temas y sentimientos predominantes.
**Resultado final**: Un informe que resalta las Ã¡reas positivas y las oportunidades de mejora basadas en las opiniones de los usuarios.

### Escenario 3: RevisiÃ³n de Conversaciones del Soporte
**SituaciÃ³n**: Deseas evaluar las interacciones en el servicio de atenciÃ³n al cliente.  
**Pasos**: 
1. Ve a â€œAnÃ¡lisis de Conversacionesâ€.
2. Carga la transcripciÃ³n del chat o llamadas.
3. Analiza los patrones y problemÃ¡ticas recurrentes.
**Resultado final**: Un diagnÃ³stico con insights para mejorar la calidad del servicio al cliente.

---

## â“ Preguntas Frecuentes

**P: Â¿CÃ³mo cargo un archivo PDF para su procesamiento?  
R:** En la pantalla principal, selecciona â€œCargar PDFâ€, elige el archivo desde tu dispositivo y confirma la carga. AsegÃºrate de que el archivo estÃ© en formato PDF.

**P: Â¿QuÃ© sucede si el anÃ¡lisis tarda demasiado tiempo?  
R:** Revisa tu conexiÃ³n a Internet y asegÃºrate de que el archivo no sea excesivamente grande. Si el problema persiste, reinicia la aplicaciÃ³n o contacta al soporte.

**P: Â¿Es seguro cargar documentos confidenciales en la aplicaciÃ³n?  
R:** SÃ­, la aplicaciÃ³n utiliza medidas de seguridad para proteger tu informaciÃ³n. Sin embargo, te recomendamos evitar subir documentos altamente sensibles si existen dudas sobre la seguridad en tu red.

**P: Â¿QuÃ© limitaciones tiene la aplicaciÃ³n?  
R:**  
- No estÃ¡ diseÃ±ada para procesar archivos en otros formatos que no sean PDF.  
- No sustituye a un anÃ¡lisis humano en situaciones complejas que requieran interpretaciÃ³n avanzada.  
- La precisiÃ³n del anÃ¡lisis depende de la calidad del texto y de la transcripciÃ³n.

---

## ğŸ†˜ SoluciÃ³n de Problemas

### Problema: El archivo PDF no se carga correctamente
**SÃ­ntomas**: La aplicaciÃ³n muestra un error o no responde al intentar cargar el archivo.  
**Causa probable**: El archivo puede estar daÃ±ado o no ser un PDF vÃ¡lido.  
**SoluciÃ³n**:  
1. Verifica que el archivo estÃ© en buen estado y sea un PDF.  
2. Intenta cargar otro archivo para descartar problemas generales.  
3. Si el error persiste, reinicia la aplicaciÃ³n y vuelve a intentarlo.

### Problema: El anÃ¡lisis tarda demasiado en completarse
**SÃ­ntomas**: La herramienta de anÃ¡lisis permanece en â€œcargandoâ€ por un tiempo inusualmente largo.  
**Causa probable**: El archivo o la conversaciÃ³n puede ser muy grande o contener errores de formato.  
**SoluciÃ³n**:  
1. Considera dividir el contenido en partes mÃ¡s pequeÃ±as.  
2. Revisa la conexiÃ³n a Internet y reinicia la aplicaciÃ³n si es necesario.

### Problema: Resultados del anÃ¡lisis incompletos o incorrectos
**SÃ­ntomas**: La salida del anÃ¡lisis no coincide con la informaciÃ³n esperada o muestra datos incompletos.  
**Causa probable**: Puede deberse a un formato inadecuado del contenido o a limitaciones del modelo de lenguaje.  
**SoluciÃ³n**:  
1. AsegÃºrate de que el contenido estÃ© bien estructurado y sin errores.  
2. Vuelve a ejecutar el anÃ¡lisis y revisa la documentaciÃ³n del servicio para sugerencias adicionales.

---

## ğŸ“ Soporte y Contacto
- **Â¿Necesitas ayuda adicional?**  
  ComunÃ­cate con nuestro equipo de soporte enviando un correo a soporte@ejemplo.com o utilizando el chat en vivo disponible en la aplicaciÃ³n.
- **Â¿Encontraste un error?**  
  Reporta cualquier fallo o comportamiento inesperado a travÃ©s de la opciÃ³n â€œReportar un Errorâ€ en el menÃº de la aplicaciÃ³n.
- **Â¿Tienes sugerencias?**  
  EnvÃ­anos tus comentarios y sugerencias a feedback@ejemplo.com para seguir mejorando la experiencia de usuario.

---

Esta guÃ­a estÃ¡ pensada para ayudarte a comenzar y aprovechar todas las funcionalidades de la herramienta de forma rÃ¡pida y sencilla. Â¡Esperamos que encuentres esta aplicaciÃ³n Ãºtil y fÃ¡cil de usar!

## DocumentaciÃ³n TÃ©cnica
# DocumentaciÃ³n TÃ©cnica

La presente documentaciÃ³n estÃ¡ orientada a desarrolladores y equipos tÃ©cnicos que requieran comprender, mantener y extender la aplicaciÃ³n VoC Analyst. A continuaciÃ³n se detalla la arquitectura general, el stack tecnolÃ³gico, los componentes principales, las â€œAPIs internasâ€, el modelo de datos, la guÃ­a de desarrollo y aspectos crÃ­ticos a tener en cuenta.

---

## ğŸ—ï¸ Arquitectura del Sistema

- **PatrÃ³n arquitectÃ³nico utilizado:**  
  VoC Analyst adopta una arquitectura modular monolÃ­tica de tipo â€œhÃ­bridoâ€. La aplicaciÃ³n se compone de dos bloques principales:
  - **Capa de PresentaciÃ³n (Frontend):**  
    Implementada completamente con Streamlit. Se encarga de la interacciÃ³n con el usuario, la carga de archivos, la visualizaciÃ³n interactiva de resultados y la gestiÃ³n del estado mediante `st.session_state`.
  - **Capa de LÃ³gica y AnÃ¡lisis (Backend):**  
    Esta capa procesa la informaciÃ³n mediante mÃ³dulos para extracciÃ³n y transformaciÃ³n de texto (mediante PyPDF2), parser de conversaciones y normalizaciÃ³n (incluyendo redacciÃ³n de informaciÃ³n sensible o PII) y la integraciÃ³n con proveedores de Modelos de Lenguaje (LLM) como OpenAI, Anthropic y Google GenAI.

- **Diagrama de componentes (Mermaid):**

  ```mermaid
  graph LR
      A[Interfaz Streamlit (Frontend)] --> B[Procesamiento y ValidaciÃ³n de Archivos]
      A --> C[GestiÃ³n del Estado (st.session_state)]
      B --> D[ExtracciÃ³n de Texto (PyPDF2)]
      B --> E[Parser y RedacciÃ³n de PII]
      A --> F[LLMBackend (LÃ³gica de Negocio)]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de datos principal:**  
  1. El usuario carga uno o varios archivos (por ejemplo, PDFs) a travÃ©s de la interfaz web.  
  2. Las funciones de validaciÃ³n (por ejemplo, `validate_file_size`) y extracciÃ³n (`extract_text_from_pdf`) se encargan de procesar los archivos.  
  3. El contenido extraÃ­do es enviado al mÃ³dulo de parser para normalizar y redactar la informaciÃ³n confidencial (PII).  
  4. El mÃ³dulo **LLMBackend** establece la comunicaciÃ³n con el proveedor LLM configurado, enviando prompts y recibiendo insights, anÃ¡lisis de sentimientos, detecciÃ³n de temas y recomendaciones.  
  5. Los resultados se almacenan en `st.session_state` y se muestran interactivamente al usuario.

- **Dependencias crÃ­ticas y propÃ³sito:**  
  - **Streamlit:** Crea la interfaz web interactiva y gestiona el estado de la sesiÃ³n.  
  - **PyPDF2:** Extrae el contenido textual de archivos PDF.  
  - **Pandas:** Facilita la manipulaciÃ³n y visualizaciÃ³n de datos (tablas, DataFrames, etc.).  
  - **LLM SDKs (openai, anthropic, google-genai):** Permiten la integraciÃ³n con proveedores de modelos de lenguaje para anÃ¡lisis semÃ¡ntico avanzado.  
  - **LibrerÃ­as adicionales:** json, os, time, datetime, uuid, zipfile, io, typing (para utilidades y manejo de datos).

---

## ğŸ“‹ Stack TecnolÃ³gico

- **Lenguajes:**  
  Principalmente Python (catalogado en â€œotherâ€ en el repositorio).

- **Frameworks y LibrerÃ­as:**  
  - **Streamlit** (>= 1.49.1): Para la creaciÃ³n de la interfaz web interactiva.
  - **PyPDF2** (>= 3.0.1): Para extraer el contenido textual de los documentos PDF.
  - **Pandas** (>= 2.3.2): Para manipulaciÃ³n y visualizaciÃ³n de datos.
  - **SDKs de LLM:**  
    - `openai`: Para integrar modelos de OpenAI.
    - `anthropic`: Para conectar con proveedores de Anthropic.
    - `google-genai`: Para integrar modelos de Google GenAI (Gemini).
  - LibrerÃ­as estÃ¡ndar: json, os, time, datetime, uuid, zipfile, io, typing.

- **Base de Datos:**  
  No se utiliza una base de datos relacional tradicional. El almacenamiento de datos se maneja de forma transitoria en memoria mediante `st.session_state`.

- **APIs externas:**  
  La aplicaciÃ³n se integra con las APIs de proveedores LLM (OpenAI, Anthropic y Google GenAI), mediante llamadas directas desde el mÃ³dulo LLMBackend.

- **Infraestructura:**  
  La aplicaciÃ³n se despliega como una aplicaciÃ³n web simple, ejecutable en entornos locales, servidores o contenedores Docker.

---

## ğŸ”§ Componentes Principales

### 1. AplicaciÃ³n Streamlit

- **PropÃ³sito:**  
  Proveer la interfaz de usuario interactiva para:
  - Configurar la aplicaciÃ³n.
  - Cargar y validar archivos.
  - Visualizar resultados generados a partir del anÃ¡lisis.

- **UbicaciÃ³n:**  
  Principalmente en el archivo `app.py` ubicado en la raÃ­z o en el directorio `app/`, junto con mÃ³dulos auxiliares como `parser.py` y `utils.py`.

- **Interfaces y MÃ©todos Expuestos:**  
  - **ConfiguraciÃ³n de PÃ¡gina:** Configurada mediante `st.set_page_config`.
  - **GestiÃ³n del Estado:** Uso de `st.session_state` para variables como:
    - `analysis_results`: Contiene los resultados del anÃ¡lisis.
    - `run_id`: Identificador Ãºnico para cada ejecuciÃ³n.
    - `uploaded_files_data`: Lista de archivos procesados con sus metadatos.
    - `processing_complete`: Indicador booleano sobre la finalizaciÃ³n del proceso.
  - **Funciones Auxiliares:**
    - `extract_text_from_pdf(pdf_file) â†’ str`: Recorre cada pÃ¡gina del PDF para extraer y concatenar el texto.
    - `validate_file_size(file) â†’ bool`: Verifica que el archivo no exceda el tamaÃ±o mÃ¡ximo permitido (por ejemplo, 100MB).

- **Dependencias:**  
  Utiliza Streamlit, PyPDF2, Pandas y utilidades de Python (os, time, etc.).

---

### 2. MÃ³dulo LLMBackend

- **PropÃ³sito:**  
  Facilitar la integraciÃ³n con proveedores de Modelos de Lenguaje (LLM) para analizar y generar insights a partir del texto. Permite la configuraciÃ³n dinÃ¡mica del proveedor, modelo y manejo de reintentos.

- **UbicaciÃ³n:**  
  Se encuentra en el archivo `llm_backend.py` en la raÃ­z del repositorio.

- **Interfaces y MÃ©todos Expuestos:**
  - **ModelConfig:**  
    Clase de configuraciÃ³n con los siguientes atributos:
    - `provider`: Proveedor elegido (ejemplo: "openai", "anthropic", "gemini").
    - `model`: Modelo especÃ­fico a emplear.
    - `api_key`: Clave de autenticaciÃ³n.
    - `max_retries` y `retry_delay`: ParÃ¡metros para reintentos en caso de fallos.
  
  - **LLMBackend:**  
    MÃ©todos destacados:
    - `__init__(config: ModelConfig)`: Inicializa el servicio configurado.
    - `_initialize_client()`: Selecciona y retorna la instancia del cliente LLM segÃºn el proveedor.
    - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan o definen los prompts utilizados para parsear la conversaciÃ³n y generar anÃ¡lisis.
    - `analyze_text(text: str) â†’ Dict[str, Any]`: EnvÃ­a el texto a analizar y retorna un diccionario con los insights generados por el modelo LLM.
  
- **Dependencias:**  
  Utiliza las librerÃ­as especÃ­ficas para cada proveedor (openai, anthropic, google-genai).

---

### 3. Parser y Procesamiento de Conversaciones

- **PropÃ³sito:**  
  Procesar y normalizar las conversaciones extraÃ­das de los archivos (o ingresadas manualmente), para estructurarlas y prepararlas para el anÃ¡lisis LLM. Esto incluye:
  - **ExtracciÃ³n y NormalizaciÃ³n:** Dividir el texto en turnos de conversaciÃ³n, identificar roles (cliente, agente, desconocido) y extraer metadatos como timestamps.
  - **RedacciÃ³n de PII:** Detectar y reemplazar informaciÃ³n sensible (como correos, telÃ©fonos, tarjetas) por etiquetas estÃ¡ndar (por ejemplo, `[EMAIL]`, `[PHONE]`).
  - **GeneraciÃ³n de JSON Estructurado:** Convertir la conversaciÃ³n en un formato estructurado que permita la inmediata integraciÃ³n con los mÃ³dulos de anÃ¡lisis y visualizaciÃ³n.

- **UbicaciÃ³n y OrganizaciÃ³n:**  
  Generalmente se encuentra en un archivo denominado `parser.py` o integrado en mÃ³dulos de procesamiento dentro de `app/`.

- **Dependencias y Requisitos:**  
  Se apoya en expresiones regulares y utilidades propias de Python para la transformaciÃ³n y la redacciÃ³n de PII.

---

## ğŸš€ APIs y Endpoints

Aunque no existe una API REST externa, la aplicaciÃ³n dispone de â€œAPIs internasâ€ definidas a nivel de funciones y mÃ©todos que orquestan el procesamiento:

- **extract_text_from_pdf(pdf_file) â†’ str:**  
  FunciÃ³n que extrae el contenido textual del PDF utilizando PyPDF2. Maneja excepciones y reporta errores mediante `st.error`.

- **validate_file_size(file) â†’ bool:**  
  Verifica que el archivo subido tenga un tamaÃ±o inferior al lÃ­mite permitido (100MB).

- **LLMBackend.analyze_text(text: str) â†’ Dict[str, Any]:**  
  MÃ©todo que envÃ­a el texto combinado con el prompt de anÃ¡lisis al proveedor LLM y retorna el resultado (insights, anÃ¡lisis de sentimientos, temas, recomendaciones, etc.).

- **Funciones del Parser:**  
  Transforman la conversaciÃ³n en un formato JSON estructurado, normalizando la informaciÃ³n y asegurando la protecciÃ³n de la PII.

---

## ğŸ’¾ Modelo de Datos

- **Entidad Principal: ConversaciÃ³n**  
  Representada internamente en formato JSON con las siguientes propiedades:
  - `conversation_id`: Identificador Ãºnico de la conversaciÃ³n.
  - `messages`: Lista de mensajes en la conversaciÃ³n, donde cada mensaje incluye:
    - `sender`: Rol del emisor (cliente, agente, desconocido).
    - `timestamp`: Momento del mensaje (si estÃ¡ disponible).
    - `content`: Texto del mensaje, con la PII ya redactada.
    - `metadata`: InformaciÃ³n adicional (canal, duraciÃ³n, etc.).

- **Transformaciones y Validaciones:**  
  - Se valida que el texto sea no vacÃ­o y se normalice correctamente.
  - Se aplican reglas de redacciÃ³n para anonimizar datos sensibles.
  - Se estructura la salida para integrarla con el anÃ¡lisis y la visualizaciÃ³n.

---

## ğŸ› ï¸ GuÃ­a de Desarrollo

### 6.1 ConfiguraciÃ³n del Entorno

1. **Prerrequisitos:**  
   - Tener instalado Python 3.8 o superior.
   - ConexiÃ³n a Internet para acceder a las APIs de los proveedores LLM en producciÃ³n.
  
2. **InstalaciÃ³n:**  
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/voc-analyst.git
     cd voc-analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv env
     source env/bin/activate     # En Linux/Mac
     env\Scripts\activate        # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   Configura las API keys mediante variables de entorno, por ejemplo:
   - `OPENAI_API_KEY`
   - `ANTHROPIC_API_KEY`
   - `GEMINI_API_KEY`

---

### 6.2 Estructura del CÃ³digo

La organizaciÃ³n del repositorio es la siguiente:

```
VoC-Analyst/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.py                # Punto de entrada de la aplicaciÃ³n (interfaz Streamlit)
â”‚   â”œâ”€â”€ parser.py             # Funciones de parseo y procesamiento de conversaciones
â”‚   â””â”€â”€ utils.py              # Funciones auxiliares (extracciÃ³n de texto, validaciÃ³n, etc.)
â”œâ”€â”€ llm_backend.py            # MÃ³dulo para la integraciÃ³n con proveedores LLM
â”œâ”€â”€ requirements.txt          # Lista de dependencias
â””â”€â”€ README.md                 # DocumentaciÃ³n general y guÃ­a de usuario
```

- **EstÃ¡ndares de CÃ³digo:**
  - Se emplean nombres descriptivos en minÃºsculas y con guiones bajos.
  - Se sigue el patrÃ³n de separaciÃ³n entre la lÃ³gica de la interfaz (Streamlit) y la lÃ³gica de negocio (LLMBackend, Parser).
  - Se recomienda escribir pruebas unitarias para funciones crÃ­ticas con frameworks como pytest.

---

### 6.3 Pruebas y ValidaciÃ³n

- **Pruebas Unitarias:**  
  Se debe cubrir la extracciÃ³n de texto (extract_text_from_pdf), la validaciÃ³n del tamaÃ±o del archivo (validate_file_size) y la interacciÃ³n con el mÃ³dulo LLMBackend (analyze_text).

- **ValidaciÃ³n de IntegraciÃ³n:**  
  Simular peticiones al proveedor LLM para asegurar que:
  - Los prompts se carguen correctamente.
  - Se maneje el nÃºmero correcto de reintentos ante fallos.
  
- **Manejo de Errores y Logging:**  
  Registrar errores y excepciones utilizando el mÃ³dulo logging, facilitando la depuraciÃ³n en producciÃ³n.

---

## Diagrama del Sistema

El siguiente diagrama ilustra la relaciÃ³n general entre la interfaz de usuario, el mÃ³dulo LLMBackend y el parser de conversaciones:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[Procesamiento de Archivos]
    B --> C[Parser y NormalizaciÃ³n de Conversaciones]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

---

## ğŸ” Puntos de AtenciÃ³n

- **Limitaciones Conocidas:**
  - La extracciÃ³n de texto depende de la calidad de los PDFs; documentos basados en imÃ¡genes pueden requerir OCR.
  - El rendimiento puede verse afectado al procesar archivos muy extensos (cercanos a 100MB).
  - La precisiÃ³n de los anÃ¡lisis de modelos LLM depende de la claridad y formato del texto extraÃ­do.

- **Consideraciones de Rendimiento:**
  - Se recomienda implementar procesamiento en lote o tÃ©cnicas de caching para anÃ¡lisis repetitivos.
  - Ajustar los parÃ¡metros de reintentos (`max_retries` y `retry_delay`) para asegurar mayor estabilidad en la comunicaciÃ³n con el LLM.

- **Aspectos de Seguridad:**
  - Proteger las API keys utilizando variables de entorno.
  - Redactar la informaciÃ³n sensible (PII) antes de enviar datos a proveedores externos.
  - Revisar y actualizar continuamente la polÃ­tica de privacidad y manejo de datos.

- **TODOs y Mejoras Sugeridas:**
  - Ampliar el soporte a otros formatos de archivo (por ejemplo, TXT).
  - Integrar OCR para PDFs basados en imÃ¡genes.
  - Mejorar la modularidad de las funciones de parseo y manejo de errores.

---

## GuÃ­a de Usuario

Esta guÃ­a estÃ¡ orientada a usuarios finales que deseen aprovechar la herramienta para analizar documentos y extraer insights de sus datos.

### Acceso y Uso BÃ¡sico

1. **Acceso a la AplicaciÃ³n:**
   - Abra un navegador web y dirÃ­jase a la URL designada para la aplicaciÃ³n (ejemplo: http://localhost:8501).

2. **Carga de Archivos PDF:**
   - Use el botÃ³n â€œSubir Archivoâ€ para seleccionar y cargar un archivo PDF.
   - Espere a que el contenido sea procesado y extraÃ­do; se mostrarÃ¡ un resumen del estado.

3. **AnÃ¡lisis con IA:**
   - Una vez procesado el archivo, haga clic en â€œIniciar AnÃ¡lisisâ€ para que la herramienta envÃ­e el contenido a los modelos de lenguaje.
   - La herramienta analizarÃ¡ el contenido y generarÃ¡ un informe interactivo que incluye insights, anÃ¡lisis de sentimientos y recomendaciones.

4. **VisualizaciÃ³n de Resultados:**
   - Consulte los paneles de resultados para ver indicadores clave (KPI), anÃ¡lisis de temas y recomendaciÃ³nes.
   - Utilice opciones de filtrado y exploraciÃ³n para profundizar en la informaciÃ³n.
   - Exporte los resultados en formato JSON o CSV si lo necesita.

### Preguntas Frecuentes (FAQ)

**Â¿QuÃ© tipos de archivos se pueden procesar?**  
Actualmente, se soportan archivos PDF. PrÃ³ximamente se evaluarÃ¡ la compatibilidad con otros formatos.

**Â¿Es necesario tener conocimientos tÃ©cnicos para usar la herramienta?**  
No, la aplicaciÃ³n estÃ¡ diseÃ±ada para ser intuitiva y accesible incluso para usuarios sin experiencia previa en anÃ¡lisis de datos o programaciÃ³n.

**Â¿QuÃ© ocurre si el anÃ¡lisis no arroja resultados?**  
Verifique que el archivo cargado estÃ© en buen estado y que contenga texto seleccionable. Si el problema persiste, contacte al soporte tÃ©cnico.

**Â¿CÃ³mo se garantiza la seguridad de la informaciÃ³n?**  
La herramienta procesa los datos en memoria y no almacena informaciÃ³n sensible de forma persistente. AdemÃ¡s, se recomienda revisar la polÃ­tica de privacidad para mÃ¡s detalles.

**Â¿Puedo recibir asistencia en caso de problemas?**  
SÃ­, consulte la secciÃ³n de â€œAyudaâ€ en la aplicaciÃ³n o comunÃ­quese con el equipo de soporte.

---

Esta documentaciÃ³n tÃ©cnica y guÃ­a de usuario tienen como objetivo brindar una visiÃ³n completa tanto para desarrolladores como para usuarios finales, facilitando la utilizaciÃ³n y el mantenimiento de VoC Analyst. Para cualquier consulta adicional o sugerencia de mejora, por favor contacte al equipo de desarrollo.

---

## Diagrama
```mermaid
graph LR
App[app]-->Deps[dependencies]
```

Â¡Feliz codificaciÃ³n y Ã©xito en el anÃ¡lisis de la Voz del Cliente!


## Diagrama
```mermaid
graph LR\nApp["app"]-->Deps["dependencies"]\n
```
