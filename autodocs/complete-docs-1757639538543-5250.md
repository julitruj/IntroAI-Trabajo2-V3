# DocumentaciÃ³n del Proyecto

## GuÃ­a de Usuario
# GuÃ­a de Usuario

Bienvenido a tu nueva herramienta de anÃ¡lisis y procesamiento de informaciÃ³n. Esta guÃ­a te ayudarÃ¡ a aprovechar al mÃ¡ximo todas las funcionalidades que ofrece la aplicaciÃ³n.

---

## ğŸ“± Â¿QuÃ© es esta aplicaciÃ³n?

- **PropÃ³sito principal:**  
  Esta aplicaciÃ³n te permite procesar y analizar archivos PDF, conversaciones y registros de Voz del Cliente (VoC) a travÃ©s de una intuitiva interfaz web. Utiliza modelos de lenguaje (IA) para extraer insights valiosos de tus datos.

- **Problema que resuelve:**  
  Facilita la extracciÃ³n de informaciÃ³n relevante de documentos y registros de comunicaciÃ³n, eliminando la necesidad de revisar manualmente grandes volÃºmenes de datos y permitiendo una toma de decisiones mÃ¡s rÃ¡pida y fundamentada.

- **Beneficios clave:**  
  - Ahorro de tiempo al automatizar el anÃ¡lisis de documentos y conversaciones.  
  - Mayor precisiÃ³n en la identificaciÃ³n de tendencias y Ã¡reas de mejora.  
  - VisualizaciÃ³n clara y accesible de los resultados a travÃ©s de una interfaz amigable.

- **Audiencia objetivo:**  
  Ideal para empresas y profesionales que manejan grandes volÃºmenes de documentaciÃ³n, equipos de atenciÃ³n al cliente y Ã¡reas de mejora continua, analÃ­tica de datos y control de calidad.

---

## âœ¨ Funcionalidades Principales

### Interfaz Web Interactiva con Streamlit
- **Â¿QuÃ© hace?**  
  Proporciona una plataforma fÃ¡cil de usar para interactuar con todas las herramientas de la aplicaciÃ³n.
  
- **Â¿CuÃ¡ndo usarla?**  
  Ãšsala cada vez que necesites cargar archivos, configurar anÃ¡lisis o visualizar resultados.
  
- **Â¿CÃ³mo acceder?**  
  Ingresa a la aplicaciÃ³n a travÃ©s de tu navegador web utilizando la URL proporcionada e inicia sesiÃ³n con tus credenciales.
  
- **Resultado esperado:**  
  VisualizarÃ¡s un panel de control completo con menÃºs y opciones claras para comenzar tu anÃ¡lisis.

### Procesamiento de Archivos PDF
- **Â¿QuÃ© hace?**  
  Permite subir y procesar documentos PDF, extrayendo el texto y otros elementos relevantes para su anÃ¡lisis.
  
- **Â¿CuÃ¡ndo usarla?**  
  Cuando necesites analizar informaciÃ³n contenida en archivos PDF, como reportes, facturas o documentaciÃ³n tÃ©cnica.
  
- **Â¿CÃ³mo acceder?**  
  Dentro del panel principal, selecciona la opciÃ³n â€œCargar PDFâ€ y sigue los pasos para subir tu archivo.
  
- **Resultado esperado:**  
  El sistema mostrarÃ¡ el contenido del PDF listo para ser analizado, indicando cualquier posible error en la lectura.

### AnÃ¡lisis con Modelos de Lenguaje (IA)
- **Â¿QuÃ© hace?**  
  Utiliza inteligencia artificial para interpretar y extraer insights relevantes del texto procesado.
  
- **Â¿CuÃ¡ndo usarla?**  
  Cada vez que se necesite obtener un resumen, detectar patrones o identificar palabras clave en tus documentos.
  
- **Â¿CÃ³mo acceder?**  
  Selecciona la opciÃ³n â€œAnalizar Textoâ€ tras haber cargado y procesado tus documentos.
  
- **Resultado esperado:**  
  RecibirÃ¡s un resumen o un listado de insights destacados extraÃ­dos automÃ¡ticamente de tu documento.

### AnÃ¡lisis de Conversaciones
- **Â¿QuÃ© hace?**  
  Analiza diÃ¡logos y registros de comunicaciÃ³n para identificar temas, emociones y tendencias en las conversaciones.
  
- **Â¿CuÃ¡ndo usarla?**  
  Al trabajar con transcripciones de reuniones, chats de atenciÃ³n al cliente o cualquier otro registro de comunicaciÃ³n verbal o escrita.
  
- **Â¿CÃ³mo acceder?**  
  Dentro del menÃº principal, elige â€œAnalizar Conversacionesâ€ y carga el archivo o ingresa el texto de la conversaciÃ³n.
  
- **Resultado esperado:**  
  ObtendrÃ¡s un anÃ¡lisis visual y textual de los temas tratados en las conversaciones, con recomendaciones o insights destacados.

### AnÃ¡lisis de Voz del Cliente (VoC)
- **Â¿QuÃ© hace?**  
  Se enfoca en evaluar y resumir los comentarios y opiniones de tus clientes, identificando necesidades y Ã¡reas de mejora.
  
- **Â¿CuÃ¡ndo usarla?**  
  Al recopilar feedback de clientes, encuestas post-servicio o cualquier interacciÃ³n que refleje la experiencia del cliente.
  
- **Â¿CÃ³mo acceder?**  
  En el menÃº principal, selecciona â€œAnalizar VoCâ€ y sigue las instrucciones para subir o ingresar el feedback.
  
- **Resultado esperado:**  
  VerÃ¡s un informe con los puntos mÃ¡s relevantes de la experiencia de tus clientes, ayudÃ¡ndote a tomar acciones para mejorar el servicio.

---

## ğŸš€ CÃ³mo Empezar

### Primer Uso

1. **Requisitos previos:**  
   - Tener acceso a una conexiÃ³n a Internet.  
   - Contar con los archivos PDF o datos de conversaciones que desees analizar.

2. **Acceso inicial:**  
   - Ingresa a la aplicaciÃ³n mediante la URL proporcionada.  
   - Realiza el inicio de sesiÃ³n utilizando tu usuario y contraseÃ±a.

3. **ConfiguraciÃ³n bÃ¡sica:**  
   - Configura tus preferencias de idioma y notificaciones si aplica.  
   - FamiliarÃ­zate con el panel de control y la ubicaciÃ³n de cada funcionalidad.

4. **Primera tarea recomendada:**  
   - Sube un archivo PDF y prueba el procesamiento y anÃ¡lisis de texto para ver cÃ³mo se generan los insights.

### Flujo TÃ­pico de Uso

1. **Paso 1:** Inicia sesiÃ³n e introduce al panel principal de la aplicaciÃ³n.
2. **Paso 2:** Selecciona la funcionalidad que necesites (por ejemplo, â€œCargar PDFâ€).
3. **Paso 3:** Sigue las instrucciones en pantalla para subir el archivo o ingresar el texto.
4. **Paso 4:** Revisa los resultados en el panel de anÃ¡lisis: verÃ¡s resÃºmenes, insights y recomendaciones de manera clara y visual.

---

## ğŸ’¡ Casos de Uso Comunes

### Escenario 1: AnÃ¡lisis de Reportes Financieros
**SituaciÃ³n:**  
Necesitas extraer informaciÃ³n esencial de reportes PDF extensos para tomar decisiones estratÃ©gicas.

**Pasos:**  
1. Ingresa a la opciÃ³n â€œCargar PDFâ€.  
2. Sube el informe financiero.  
3. Utiliza â€œAnalizar Textoâ€ para extraer resÃºmenes y puntos clave.  
4. Revisa el informe resumido para identificar tendencias.

### Escenario 2: EvaluaciÃ³n de Conversaciones de AtenciÃ³n al Cliente
**SituaciÃ³n:**  
Quieres identificar las Ã¡reas de mejora en el servicio al cliente a partir de las conversaciones con tus agentes.

**Pasos:**  
1. Selecciona â€œAnalizar Conversacionesâ€.  
2. Carga la transcripciÃ³n de las interacciones.
3. Observa el anÃ¡lisis que destaca temas recurrentes y emociones.
4. Utiliza la informaciÃ³n para mejorar protocolos de atenciÃ³n.

### Escenario 3: RecopilaciÃ³n de Voz del Cliente (VoC)
**SituaciÃ³n:**  
Requieres recoger y analizar las opiniones de los clientes sobre un nuevo producto o servicio.

**Pasos:**  
1. Accede a â€œAnalizar VoCâ€.  
2. Ingresa o sube el feedback recibido a travÃ©s de encuestas.
3. Analiza el informe que muestra puntos fuertes y Ã¡reas a mejorar.
4. Planifica acciones basadas en los insights recabados.

---

## â“ Preguntas Frecuentes

**P: Â¿CÃ³mo puedo estar seguro de que los datos analizados son precisos?**  
R: La aplicaciÃ³n utiliza modelos de lenguaje avanzados para proporcionar anÃ¡lisis precisos. Revisa siempre el informe final y, en caso de dudas, consulta la secciÃ³n de soporte.

**P: Â¿QuÃ© debo hacer si el PDF no se procesa correctamente?**  
R: Verifica que el archivo PDF estÃ© en buen estado y cumpla con los requisitos. Si el problema persiste, consulta la secciÃ³n de soluciÃ³n de problemas.

**P: Â¿Es seguro subir informaciÃ³n sensible a la aplicaciÃ³n?**  
R: SÃ­, la aplicaciÃ³n cuenta con medidas de seguridad para proteger tus datos. Se recomienda familiarizarse con las polÃ­ticas de privacidad para mayor tranquilidad.

**P: Â¿CuÃ¡les son las limitaciones principales de la aplicaciÃ³n?**  
R:  
- No procesa archivos en formatos distintos a PDF.  
- El anÃ¡lisis depende de la calidad del texto extraÃ­do.  
- No estÃ¡ diseÃ±ada para editar documentos, solo para analizarlos.

---

## ğŸ†˜ SoluciÃ³n de Problemas

### Problema: El archivo PDF no se carga correctamente
- **SÃ­ntomas:**  
  Mensaje de error al intentar subir el archivo o ausencia de respuesta despuÃ©s de la carga.
- **Causa probable:**  
  El archivo puede estar daÃ±ado o en un formato incompatible.
- **SoluciÃ³n:**  
  Verifica que el archivo PDF estÃ© en buenas condiciones y vuelva a intentarlo. Si el problema continÃºa, revisa las especificaciones soportadas o contacta al soporte.

### Problema: El anÃ¡lisis de lenguaje no genera resultados claros
- **SÃ­ntomas:**  
  El informe de anÃ¡lisis aparece vacÃ­o o con informaciÃ³n poco Ãºtil.
- **Causa probable:**  
  El texto ingresado puede tener errores de formato o estar incompleto.
- **SoluciÃ³n:**  
  Revisa el contenido del archivo o transcripciÃ³n, corrige posibles errores y vuelve a ejecutar el anÃ¡lisis.

### Problema: Dificultad para acceder a la interfaz de usuario
- **SÃ­ntomas:**  
  La pÃ¡gina web no carga o muestra errores de conexiÃ³n.
- **Causa probable:**  
  Problemas de conexiÃ³n a internet o mantenimiento del servidor.
- **SoluciÃ³n:**  
  Confirma tu conexiÃ³n a internet y, si el problema persiste, intenta acceder mÃ¡s tarde o contacta al soporte tÃ©cnico.

---

## ğŸ“ Soporte y Contacto

- **Â¿Necesitas ayuda adicional?**  
  Puedes comunicarte con el equipo de soporte a travÃ©s del correo soporte@tuaplicacion.com.
  
- **Â¿Encontraste un error?**  
  Reporta el incidente utilizando el formulario de "Reportar Error" disponible en la aplicaciÃ³n.
  
- **Â¿Tienes sugerencias?**  
  EnvÃ­anos tu feedback a feedback@tuaplicacion.com para ayudarnos a mejorar.

---

Esperamos que esta guÃ­a te sea de gran utilidad para aprovechar al mÃ¡ximo todas las funcionalidades de la aplicaciÃ³n. Â¡Muchas gracias por confiar en nosotros!

## DocumentaciÃ³n TÃ©cnica
A continuaciÃ³n se muestra la documentaciÃ³n tÃ©cnica completa en Markdown, estructurada segÃºn lo solicitado, basada en el anÃ¡lisis del cÃ³digo y las muestras entregadas:

----------------------------------------------------------------
# DocumentaciÃ³n TÃ©cnica

Esta documentaciÃ³n tÃ©cnica estÃ¡ orientada a desarrolladores y equipos tÃ©cnicos que necesiten comprender, mantener y extender la aplicaciÃ³n VoC Analyst. Se describen la arquitectura del sistema, el stack tecnolÃ³gico, los componentes principales, las â€œAPIs internasâ€, el modelo de datos, las guÃ­as de desarrollo y los puntos de atenciÃ³n crÃ­ticos.

----------------------------------------------------------------
## ğŸ—ï¸ Arquitectura del Sistema

- **PatrÃ³n ArquitectÃ³nico Utilizado:**  
  La aplicaciÃ³n adopta una arquitectura modular monolÃ­tica â€œhÃ­bridaâ€ en la que se integran la interfaz de usuario (Frontend) y la lÃ³gica de negocio (Backend) en una Ãºnica soluciÃ³n.  
  - La **Capa de PresentaciÃ³n** se implementa con Streamlit, la cual se encarga de la carga de archivos, la interacciÃ³n con el usuario, la visualizaciÃ³n de resultados y la gestiÃ³n del estado de la sesiÃ³n mediante `st.session_state`.
  - La **Capa de LÃ³gica y AnÃ¡lisis** abarca la extracciÃ³n y procesamiento de archivos (por ejemplo, utilizando PyPDF2 para extraer texto de PDFs) y el mÃ³dulo LLMBackend, que integra mÃºltiples proveedores de modelos de lenguaje (LLM) como OpenAI, Anthropic y Google GenAI, para analizar y generar insights del contenido.

- **Diagrama de Componentes:**  
  La siguiente representaciÃ³n en Mermaid ilustra la relaciÃ³n general entre los componentes:
  
  ```mermaid
  graph LR
      A[Interfaz Streamlit (Frontend)] --> B[Procesamiento y ValidaciÃ³n de Archivos]
      A --> C[GestiÃ³n del Estado (st.session_state)]
      B --> D[ExtracciÃ³n de Texto (PyPDF2)]
      B --> E[Parser y RedacciÃ³n de PII]
      A --> F[LLMBackend (LÃ³gica de Negocio)]
      F --> G[Proveedores LLM (OpenAI, Anthropic, Gemini)]
  ```

- **Flujo de Datos Principal:**  
  1. El usuario carga uno o varios archivos (por ejemplo, PDFs) a travÃ©s de la interfaz web.  
  2. Se validan los archivos (por ejemplo, con `validate_file_size`) y se extrae el contenido textual mediante funciones como `extract_text_from_pdf` (que utiliza PyPDF2).  
  3. El texto extraÃ­do se procesa a travÃ©s del parser, que normaliza la conversaciÃ³n, segmenta mensajes y redacta datos sensibles (PII).  
  4. La lÃ³gica de negocio usa el mÃ³dulo LLMBackend (configurado mediante ModelConfig) para enviar el contenido a los proveedores de LLM y obtener insights (anÃ¡lisis de sentimientos, detecciÃ³n de temas, recomendaciones, etc.).  
  5. Los resultados se almacenan en `st.session_state` y se presentan en la UI a travÃ©s de grÃ¡ficos, tablas y paneles interactivos.

- **Dependencias CrÃ­ticas y su PropÃ³sito:**  
  - **Streamlit:** Proporciona la interfaz web interactiva y la gestiÃ³n del estado en tiempo real.  
  - **PyPDF2:** Extrae el contenido textual de los documentos PDF.  
  - **Pandas:** Facilita la manipulaciÃ³n y visualizaciÃ³n de datos (por ejemplo, mostrando tableros y resÃºmenes en DataFrames).  
  - **LLM SDKs (openai, anthropic, google-genai):** Permiten la integraciÃ³n y conexiÃ³n con proveedores de modelos de lenguaje para realizar anÃ¡lisis semÃ¡ntico avanzado.  
  - Otras librerÃ­as estÃ¡ndar (json, os, time, datetime, uuid, zipfile, io, typing) son utilizadas para operaciones de entrada/salida, manipulaciÃ³n de datos y manejo de excepciones.

----------------------------------------------------------------
## ğŸ“‹ Stack TecnolÃ³gico

- **Lenguajes:**  
  Principalmente Python (aunque se etiqueta como â€œotherâ€ en el repositorio).

- **Frameworks y LibrerÃ­as:**  
  - **Streamlit:** (>= 1.49.1) â€“ ImplementaciÃ³n de la interfaz web interactiva.  
  - **PyPDF2:** (>= 3.0.1) â€“ ExtracciÃ³n de texto en documentos PDF.  
  - **Pandas:** (>= 2.3.2) â€“ ManipulaciÃ³n y presentaciÃ³n de datos.  
  - **LLM SDKs:**  
    - `openai` â€“ Para integrar modelos de OpenAI.  
    - `anthropic` â€“ Para conectarse a proveedores de Anthropic.  
    - `google-genai` â€“ Para integraciÃ³n con Google Gemini o modelos GenAI.
  - **LibrerÃ­as estÃ¡ndar:** json, os, time, datetime, uuid, zipfile, io, typing.

- **Base de Datos:**  
  No se utiliza una base de datos tradicional; el almacenamiento de datos se maneja de forma transitoria en memoria utilizando el objeto `st.session_state`.

- **APIs Externas:**  
  La aplicaciÃ³n integra las APIs de proveedores LLM (OpenAI, Anthropic y Google GenAI) para realizar el anÃ¡lisis semÃ¡ntico y generar insights.

- **Infraestructura:**  
  La aplicaciÃ³n se despliega como una aplicaciÃ³n web simple mediante Streamlit y puede ejecutarse en entornos locales, servidores o contenedores Docker.

----------------------------------------------------------------
## ğŸ”§ Componentes Principales

### 1. AplicaciÃ³n Streamlit

- **PropÃ³sito:**  
  Gestiona la interfaz de usuario y la interacciÃ³n directa del usuario con la aplicaciÃ³n. Se encarga de:
  - Configurar la pÃ¡gina (tÃ­tulo, Ã­cono, layout).
  - Permitir la carga de archivos y almacenar los datos en `st.session_state`.
  - Invocar funciones de procesamiento, extracciÃ³n de texto y visualizaciÃ³n de resultados.

- **UbicaciÃ³n:**  
  Generalmente en el archivo de entrada principal, por ejemplo, `app.py` (ubicado en la raÃ­z o en el directorio `app/`) junto con mÃ³dulos de apoyo como `utils.py` o `parser.py`.

- **Interfaces y MÃ©todos Expuestos:**  
  - ConfiguraciÃ³n de la pÃ¡gina mediante `st.set_page_config`.  
  - Uso de `st.session_state` para variables clave como `analysis_results`, `run_id`, `uploaded_files_data` y `processing_complete`.
  - Funciones auxiliares como:
    - `extract_text_from_pdf(pdf_file) â†’ str`
    - `validate_file_size(file) â†’ bool`

- **Dependencias:**  
  Requiere Streamlit, PyPDF2, Pandas y librerÃ­as estÃ¡ndar de Python.

---

### 2. MÃ³dulo LLMBackend

- **PropÃ³sito:**  
  Encapsular la integraciÃ³n con los proveedores de modelos de lenguaje (LLM) y gestionar la comunicaciÃ³n para realizar el anÃ¡lisis de texto.  
  Permite configurar de forma dinÃ¡mica el proveedor y modelo a travÃ©s de la clase `ModelConfig`.

- **UbicaciÃ³n:**  
  Se encuentra en el archivo `llm_backend.py` (ubicado en la raÃ­z del repositorio).

- **Interfaces y MÃ©todos Expuestos:**  
  - **ModelConfig:**  
    â€“ Atributos:  
      - `provider`: Selecciona el proveedor (ej. "openai", "anthropic", "gemini").
      - `model`: Modelo especÃ­fico a utilizar.
      - `api_key`: Clave de API para autenticaciÃ³n.
      - `max_retries` y `retry_delay`: ParÃ¡metros de reintentos.
  - **LLMBackend:**  
    â€“ MÃ©todos:  
      - `__init__(config: ModelConfig)`: Inicializa el backend con la configuraciÃ³n proporcionada.
      - `_initialize_client()`: Instancia el cliente del proveedor LLM seleccionado.
      - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan los prompts predefinidos.
      - `analyze_text(text: str) â†’ Dict[str, Any]`: EnvÃ­a el texto a analizar y retorna un diccionario con los insights.

- **Dependencias:**  
  Utiliza las librerÃ­as especÃ­ficas para cada proveedor (openai, anthropic, google-genai) y las dependencias estÃ¡ndar de Python.

---

### 3. Procesamiento y ExtracciÃ³n de Archivos

- **PropÃ³sito:**  
  Gestiona la carga, validaciÃ³n y extracciÃ³n del contenido textual de archivos, en especial documentos PDF.  
  Se enfoca en:
  - Validar que el tamaÃ±o del archivo sea inferior a 100MB (usando `validate_file_size`).
  - Extraer el texto del PDF con `extract_text_from_pdf` (utilizando PyPDF2).

- **Ejemplo de FunciÃ³n:**

  ```python
  def extract_text_from_pdf(pdf_file) -> str:
      """Extraer texto de archivo PDF"""
      try:
          pdf_reader = PyPDF2.PdfReader(pdf_file)
          text = ""
          for page in pdf_reader.pages:
              text += page.extract_text() + "\n"
          return text.strip()
      except Exception as e:
          st.error(f"Error al extraer texto de PDF: {str(e)}")
          return ""
  ```

- **Responsabilidades:**  
  Garantizar la correcta extracciÃ³n de contenido y proporcionar mensajes de error adecuados en caso de fallo.

---

### 4. AnÃ¡lisis y Parseo de Conversaciones

- **PropÃ³sito:**  
  Procesar y normalizar las conversaciones extraÃ­das de los archivos o ingresadas manualmente. Esto incluye:
  - Segmentar el texto en turnos de conversaciÃ³n.
  - Detectar y extraer metadatos (por ejemplo, conversation_id, timestamps, roles de interlocutores).
  - Redactar informaciÃ³n sensible (PII), reemplazando patrones como correos, telÃ©fonos o identificadores por etiquetas estÃ¡ndar (por ejemplo, [EMAIL], [PHONE]).

- **Requisitos y Flujo:**  
  - Identificar la conversaciÃ³n a partir del nombre del archivo o metadatos insertados.  
  - Dividir el contenido en mensajes consecutivos y asignar roles a cada uno.  
  - Realizar transformaciones para anonimizar datos sensibles.

----------------------------------------------------------------
## ğŸš€ APIs y Endpoints

Aunque la aplicaciÃ³n no expone endpoints REST pÃºblicos, se definen â€œAPIs internasâ€ mediante funciones y mÃ©todos que orquestan el procesamiento. Entre los principales se indican:

- **FunciÃ³n:** `extract_text_from_pdf(pdf_file) â†’ str`  
  Extrae el texto de documentos PDF, usando PyPDF2 y manejando errores mediante notificaciones en la interfaz (st.error).

- **FunciÃ³n:** `validate_file_size(file) â†’ bool`  
  Verifica que el tamaÃ±o del archivo sea inferior a 100MB y evita el procesamiento de archivos demasiado grandes.

- **MÃ©todo:** `LLMBackend.analyze_text(text: str) â†’ Dict[str, Any]`  
  EnvÃ­a el texto, junto con un prompt de anÃ¡lisis, al proveedor de LLM seleccionado y retorna un diccionario con los resultados (insights, anÃ¡lisis de sentimiento, detecciÃ³n de temas, etc.).

- **Funciones del Parser de Conversaciones:**  
  Transforman el contenido conversacional en un formato estructurado (por ejemplo, JSON) con redacciÃ³n de datos sensibles y extracciÃ³n de metadatos importantes.

----------------------------------------------------------------
## ğŸ’¾ Modelo de Datos

- **Entidades Principales: ConversaciÃ³n**  
  La informaciÃ³n se estructura en formato JSON con los siguientes componentes:
  - `conversation_id`: Identificador Ãºnico de la conversaciÃ³n.
  - `messages`: Lista de mensajes, donde cada mensaje incluye:
    - `sender`: Rol del emisor (cliente, agente, desconocido).
    - `timestamp`: Momento del mensaje.
    - `content`: Texto del mensaje (con PII redactada).
    - `metadata`: InformaciÃ³n adicional (por ejemplo, canal de comunicaciÃ³n, duraciÃ³n).
    
- **Transformaciones y Validaciones:**  
  - Se valida que el contenido extraÃ­do sea no vacÃ­o y correctamente estructurado.
  - Se redacta la informaciÃ³n sensible mediante expresiones regulares o tÃ©cnicas similares.
  - El resultado final se organiza en un JSON homogÃ©neo para facilitar su consumo en capas de anÃ¡lisis y visualizaciÃ³n.

----------------------------------------------------------------
## ğŸ› ï¸ GuÃ­a de Desarrollo

### ConfiguraciÃ³n del Entorno

1. **Prerrequisitos:**  
   - Python 3.8 o superior.
   - ConexiÃ³n a Internet para realizar llamadas a APIs de proveedores LLM (en producciÃ³n).
2. **InstalaciÃ³n:**  
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/voc-analyst.git
     cd voc-analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv env
     source env/bin/activate    # En Linux/Mac
     env\Scripts\activate       # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   Configure las API keys para cada proveedor LLM (por ejemplo, `OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, `GEMINI_API_KEY`) mediante variables de entorno.

---

### Estructura de CÃ³digo

El proyecto se organiza con la siguiente estructura de directorios:

```
VoC-Analyst/
â”œâ”€â”€ app/                  # Contiene la interfaz y mÃ³dulos de procesamiento
â”‚   â”œâ”€â”€ app.py          # Punto de entrada de la aplicaciÃ³n (Streamlit)
â”‚   â”œâ”€â”€ parser.py       # Funciones de parseo y normalizaciÃ³n de conversaciones
â”‚   â””â”€â”€ utils.py        # Funciones auxiliares (extracciÃ³n de texto, validaciÃ³n, etc.)
â”œâ”€â”€ llm_backend.py      # MÃ³dulo para integraciÃ³n con proveedores LLM
â”œâ”€â”€ requirements.txt    # Lista de dependencias
â””â”€â”€ README.md           # DocumentaciÃ³n general y guÃ­a de usuario
```

---

### EstÃ¡ndares de CÃ³digo

- **Convenciones de Naming:**  
  Se utilizan nombres descriptivos en minÃºsculas y con guiones bajos para archivos, funciones y variables (por ejemplo, `extract_text_from_pdf`).
- **PatrÃ³n de SeparaciÃ³n:**  
  Se separa la lÃ³gica de presentaciÃ³n (UI con Streamlit) de la lÃ³gica de negocio y anÃ¡lisis (LLMBackend, Parser).
- **Testing:**  
  Se recomienda implementar pruebas unitarias (por ejemplo, utilizando pytest) para validar funciones clave como:
  - ExtracciÃ³n de texto en archivos PDF.
  - ValidaciÃ³n de tamaÃ±o de archivos.
  - Resiliencia de la integraciÃ³n con proveedores LLM (analyze_text con reintentos).
- **Manejo de Errores y Logging:**  
  Cada mÃ³dulo debe implementar manejo de errores robusto (try/except) y registrar eventos crÃ­ticos para facilitar la depuraciÃ³n.

---

## ğŸ” Puntos de AtenciÃ³n

- **Limitaciones Conocidas:**  
  - La extracciÃ³n de texto depende de la calidad de los documentos PDF; archivos basados en imÃ¡genes podrÃ­an necesitar OCR.
  - La precisiÃ³n del anÃ¡lisis LLM depende de la claridad y el formato del texto extraÃ­do.
  - La aplicaciÃ³n actualmente procesa un solo archivo por cada operaciÃ³n; el procesamiento en lote se encuentra en evaluaciÃ³n.
  
- **Consideraciones de Rendimiento:**  
  - El procesamiento de archivos muy grandes (cercanos a 100 MB) puede ralentizar la aplicaciÃ³n.
  - Se recomienda implementar procesamiento asÃ­ncrono y/o caching para anÃ¡lisis repetitivos o en lote.
  
- **Aspectos de Seguridad:**  
  - Proteja las API keys utilizando variables de entorno y evitando exponerlas en el cÃ³digo.
  - La redacciÃ³n de PII es fundamental para prevenir la exposiciÃ³n de datos sensibles.
  
- **TODOs y Mejoras Sugeridas:**  
  - Ampliar el soporte a otros formatos de archivos (por ejemplo, TXT).
  - Integrar OCR para documentos PDF escaneados o basados en imÃ¡genes.
  - Refinar la modularidad del cÃ³digo para facilitar la incorporaciÃ³n de nuevos proveedores LLM.
  - Mejorar el manejo de errores y realizar mÃ¡s pruebas de integraciÃ³n en entornos de alta demanda.

----------------------------------------------------------------
## Diagrama de Arquitectura

El siguiente diagrama en Mermaid ofrece un resumen visual de la interacciÃ³n entre la interfaz de usuario y los mÃ³dulos de procesamiento:

```mermaid
graph LR
    A[Interfaz Streamlit] --> B[Procesamiento de Archivos]
    B --> C[Parser y RedacciÃ³n de PII]
    A --> D[LLMBackend]
    D --> E[Proveedores LLM (OpenAI, Anthropic, Gemini)]
```

----------------------------------------------------------------
## ConclusiÃ³n

Esta documentaciÃ³n tÃ©cnica proporciona una visiÃ³n integral del sistema VoC Analyst, abarcando desde la arquitectura y el stack tecnolÃ³gico hasta la descripciÃ³n detallada de cada componente, las APIs internas y las guÃ­as de desarrollo. Se recomienda que los desarrolladores consulten esta documentaciÃ³n y los comentarios en el cÃ³digo para facilitar la extensiÃ³n y el mantenimiento del sistema.

Para consultas adicionales o aportes al proyecto, por favor revisen el repositorio de issues o contacten al equipo de desarrollo.

----------------------------------------------------------------
## Diagrama Final

```mermaid
graph LR
App[app] --> Deps[dependencies]
```

----------------------------------------------------------------
# GuÃ­a de Usuario

Esta guÃ­a estÃ¡ diseÃ±ada para ayudar a los usuarios a sacar el mÃ¡ximo provecho de la herramienta de anÃ¡lisis y procesamiento de informaciÃ³n basada en IA.

## 1. Â¿QuÃ© es esta aplicaciÃ³n?

La aplicaciÃ³n estÃ¡ orientada a la conversiÃ³n, anÃ¡lisis y extracciÃ³n de insights de documentos PDF y conversaciones. Utiliza modelos de lenguaje avanzados para interpretar el contenido y generar reportes que apoyan la toma de decisiones.

- **PropÃ³sito principal:**  
  Facilitar el procesamiento de documentos y anÃ¡lisis de interacciones para obtener datos accionables sin necesidad de conocimientos tÃ©cnicos especializados.

- **Beneficios clave:**  
  - AutomatizaciÃ³n en el procesamiento de grandes volÃºmenes de datos.  
  - ResÃºmenes y anÃ¡lisis de sentimientos y temas.  
  - Interfaz intuitiva para visualizar y exportar resultados.

## 2. Principales Funcionalidades

- **Interfaz Web Interactiva:**  
  Acceda a la aplicaciÃ³n desde su navegador y utilice una interfaz sencilla para cargar archivos y visualizar resultados.

- **Procesamiento de Archivos PDF:**  
  Cargue documentos en formato PDF para extraer el contenido textual, garantizando que el archivo no exceda el lÃ­mite de 100MB.

- **AnÃ¡lisis con Modelos de Lenguaje (IA):**  
  Una vez procesado el PDF, la aplicaciÃ³n analizarÃ¡ el texto para extraer temas, detectar sentimientos y generar recomendaciones.

- **VisualizaciÃ³n y ExportaciÃ³n:**  
  Revise los resultados en paneles interactivos y exporte los datos para su posterior anÃ¡lisis (por ejemplo, en formato JSON o CSV).

## 3. CÃ³mo Utilizar la AplicaciÃ³n

1. **Acceso a la Interfaz:**  
   Abra su navegador y visite la URL de la aplicaciÃ³n (por ejemplo, http://localhost:8501).

2. **Carga de Archivos:**  
   Seleccione "Cargar Archivo" para subir su documento PDF. La aplicaciÃ³n mostrarÃ¡ un mensaje indicando el progreso de la carga y procesamiento.

3. **Procesamiento y AnÃ¡lisis:**  
   Una vez el archivo estÃ© listo, haga clic en â€œAnalizar con LLMâ€. Espere unos instantes durante el procesamiento del contenido mediante modelos de lenguaje.

4. **VisualizaciÃ³n de Resultados:**  
   Los resultados, como resÃºmenes, grÃ¡ficos y mÃ©tricas claves (por ejemplo, NPS, CSAT, Sentimientos), se desplegarÃ¡n en la interfaz. Explore las diferentes pestaÃ±as para ver temas, recomendaciones y asignaciones de mensajes.

5. **ExportaciÃ³n de Resultados:**  
   Utilice la opciÃ³n de exportar para descargar los resultados completos en formatos como JSON o CSV.

## 4. Preguntas Frecuentes (FAQ)

- **Â¿QuÃ© tipo de archivos puedo subir?**  
  La aplicaciÃ³n estÃ¡ optimizada para archivos PDF con texto seleccionable.

- **Â¿Necesito conocimientos tÃ©cnicos para operar la herramienta?**  
  No, la interfaz es intuitiva y estÃ¡ diseÃ±ada para usuarios sin experiencia tÃ©cnica avanzada.

- **Â¿CuÃ¡nto tiempo toma el anÃ¡lisis?**  
  Depende del tamaÃ±o y complejidad del documento. Documentos extensos pueden demorar unos minutos.

- **Â¿CÃ³mo se protege mi informaciÃ³n?**  
  Los datos se procesan de forma segura y se gestionan temporalmente en el entorno de usuario sin quedar almacenados de forma persistente en servidores externos.

- **Â¿QuÃ© hago si existe un error en el anÃ¡lisis?**  
  Revise que el archivo estÃ© en buen estado y con el formato correcto. Si el problema persiste, consulte la secciÃ³n de soporte o contacte al equipo de atenciÃ³n.

## 5. Soporte y Contacto

- **Para asistencia tÃ©cnica:**  
  EnvÃ­e un correo a soporte@tuempresa.com o utilice el formulario de contacto integrado en la aplicaciÃ³n.
  
- **Para reportar errores o sugerencias:**  
  ComunÃ­quese a travÃ©s del correo reportes@tuempresa.com o feedback@tuempresa.com.

----------------------------------------------------------------
Â¡Gracias por utilizar VoC Analyst! Disfrute de una experiencia de anÃ¡lisis intuitiva y potente, y no dude en contactar al equipo de soporte para mejorar continuamente esta herramienta.

----------------------------------------------------------------

Finalmente, el siguiente diagrama ilustra de manera resumida la relaciÃ³n entre la aplicaciÃ³n y sus dependencias:

```mermaid
graph LR
App[app] --> Deps[dependencies]
```

----------------------------------------------------------------

Happy Coding y Â¡Ã©xito en sus anÃ¡lisis!




## Diagrama
```mermaid
graph LR
App[app]-->Deps[dependencies]

```
