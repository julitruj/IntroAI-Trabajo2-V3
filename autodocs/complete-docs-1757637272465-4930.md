# Documentaci√≥n del Proyecto

## Gu√≠a de Usuario
# Gu√≠a de Usuario

Bienvenido a tu herramienta para an√°lisis y procesamiento de informaci√≥n. Esta gu√≠a te ayudar√° a conocer, usar y sacar el m√°ximo provecho a la aplicaci√≥n de forma sencilla y pr√°ctica.

---

## üì± ¬øQu√© es esta aplicaci√≥n?

- **Prop√≥sito principal**:  
  Facilitar el an√°lisis y la extracci√≥n de informaci√≥n clave de archivos PDF, conversaciones y opiniones, utilizando inteligencia artificial para ofrecer resultados claros y accionables.

- **Problema que resuelve**:  
  Ayuda a interpretar grandes vol√∫menes de informaci√≥n (documentos, conversaciones y opiniones de clientes) de forma r√°pida y precisa, permiti√©ndote identificar tendencias, sentimientos y detalles importantes.

- **Beneficios clave**:  
  ‚Ä¢ Ahorro de tiempo en el procesamiento y an√°lisis de documentos.  
  ‚Ä¢ Interpretaci√≥n automatizada de conversaciones y opiniones.  
  ‚Ä¢ Confiabilidad y precisi√≥n en el an√°lisis de sentimientos, emociones y Voz del Cliente (VoC).

- **Audiencia objetivo**:  
  Profesionales, analistas y equipos de atenci√≥n al cliente que necesiten transformar grandes vol√∫menes de datos en insights √∫tiles para la toma de decisiones.

---

## ‚ú® Funcionalidades Principales

### Interfaz Web Interactiva con Streamlit
- **¬øQu√© hace?**:  
  Proporciona una plataforma visual e intuitiva para interactuar con la aplicaci√≥n y sus funcionalidades, facilitando la navegaci√≥n y el uso.

- **¬øCu√°ndo usarla?**:  
  Siempre que necesites realizar an√°lisis o cargar documentos; su dise√±o te gu√≠a en cada paso.

- **¬øC√≥mo acceder?**:  
  Abre la aplicaci√≥n en tu navegador web; la interfaz se carga autom√°ticamente mostrando las opciones disponibles.

- **Resultado esperado**:  
  Una pantalla amigable con men√∫s y botones claros para iniciar procesos y ver resultados.

### Procesamiento de Archivos PDF
- **¬øQu√© hace?**:  
  Permite cargar y leer archivos PDF para extraer el contenido de texto que ser√° procesado y analizado.

- **¬øCu√°ndo usarla?**:  
  Cuando necesites analizar informaci√≥n contenida en documentos PDF, como reportes, informes o manuales.

- **¬øC√≥mo acceder?**:  
  Selecciona la opci√≥n "Cargar PDF" en la interfaz, elige el archivo desde tu dispositivo y presiona "Procesar".

- **Resultado esperado**:  
  El sistema mostrar√° el contenido extra√≠do y listo para ser analizado en las siguientes funcionalidades.

### An√°lisis con Modelos de Lenguaje (IA)
- **¬øQu√© hace?**:  
  Utiliza inteligencia artificial para interpretar y extraer conclusiones del texto procesado, identificando temas, palabras clave y patrones.

- **¬øCu√°ndo usarla?**:  
  Ideal para obtener un resumen autom√°tico o insights sobre documentos y textos largos.

- **¬øC√≥mo acceder?**:  
  Una vez procesado el PDF o cargado el texto, selecciona la opci√≥n "Analizar con IA" y espera unos segundos a que se genere el an√°lisis.

- **Resultado esperado**:  
  Un resumen o reporte con los principales temas, palabras clave y conclusiones extra√≠das del contenido.

### An√°lisis de Conversaciones
- **¬øQu√© hace?**:  
  Examina di√°logos y registros de conversaci√≥n para identificar patrones, temas recurrentes y comportamientos en la comunicaci√≥n.

- **¬øCu√°ndo usarla?**:  
  √ötil en el an√°lisis de interacciones en centros de atenci√≥n al cliente o en redes sociales.

- **¬øC√≥mo acceder?**:  
  Ingresa el registro o transcripci√≥n de la conversaci√≥n en el espacio asignado y haz clic en "Analizar Conversaci√≥n".

- **Resultado esperado**:  
  Un informe que resalta los puntos clave, respuestas frecuentes y posibles √°reas de mejora en la comunicaci√≥n.

### An√°lisis de Sentimientos y Emociones
- **¬øQu√© hace?**:  
  Detecta el tono y las emociones expresadas en textos o conversaciones, indicando si la percepci√≥n es positiva, negativa o neutral.

- **¬øCu√°ndo usarla?**:  
  Cuando desees conocer c√≥mo se sienten los clientes o usuarios respecto a un servicio, producto o tema espec√≠fico.

- **¬øC√≥mo acceder?**:  
  Despu√©s de procesar un texto o conversaci√≥n, selecciona la opci√≥n "Analizar Sentimientos" y espera el resultado.

- **Resultado esperado**:  
  Un gr√°fico o resumen que muestra la distribuci√≥n de sentimientos y una breve interpretaci√≥n de los resultados.

### An√°lisis de Voz del Cliente (VoC)
- **¬øQu√© hace?**:  
  Se enfoca en captar y analizar la retroalimentaci√≥n directa del cliente para identificar fortalezas, √°reas de mejora y oportunidades estrat√©gicas.

- **¬øCu√°ndo usarla?**:  
  Ideal para equipos de marketing, ventas y atenci√≥n al cliente que busquen mejorar la experiencia de usuario a trav√©s de la retroalimentaci√≥n.

- **¬øC√≥mo acceder?**:  
  Selecciona la opci√≥n "An√°lisis VoC" en la interfaz, ingresa la retroalimentaci√≥n o carga el archivo correspondiente y ejecuta el an√°lisis.

- **Resultado esperado**:  
  Un reporte con insights claros y accionables sobre lo que los clientes valoran o desean mejorar en el servicio/producto ofrecido.

---

## üöÄ C√≥mo Empezar

### Primer Uso

1. **Requisitos previos**:  
   - Disponer de un navegador web actualizado.
   - Tener los archivos PDF o conversaciones que deseas analizar, ya sea en tu dispositivo o en formato digital.

2. **Acceso inicial**:  
   - Ingresa a la URL de la aplicaci√≥n en tu navegador.
   - La p√°gina de inicio te ofrecer√° un recorrido r√°pido por las opciones disponibles.

3. **Configuraci√≥n b√°sica** (si aplica):  
   - Selecciona el idioma de preferencia y revisa las opciones de visualizaci√≥n.
   - No se requiere configuraci√≥n t√©cnica adicional.

4. **Primera tarea recomendada**:  
   - Carga un archivo PDF sencillo que contenga texto claro y realiza el primer an√°lisis con IA para familiarizarte con el proceso.

### Flujo T√≠pico de Uso

1. **Paso 1**:  
   Accede a la interfaz web de la aplicaci√≥n y elige la opci√≥n que deseas utilizar (por ejemplo, "Cargar PDF").

2. **Paso 2**:  
   Sube el archivo o introduce el texto/conversaci√≥n que quieras analizar. Explora las funcionalidades que te gu√≠an en el proceso.

3. **Paso 3**:  
   Revisa el informe o los resultados generados por la aplicaci√≥n. Si es necesario, ajusta filtros o vuelve a procesar el documento para obtener informaci√≥n m√°s detallada.

---

## üí° Casos de Uso Comunes

### Escenario 1: An√°lisis de Reportes de Ventas
**Situaci√≥n**:  
Necesitas extraer insights de un informe de ventas en PDF para detectar tendencias y √°reas de mejora.

**Pasos**:  
1. Carga el archivo PDF en la aplicaci√≥n.  
2. Ejecuta el an√°lisis con modelos de lenguaje para extraer palabras clave y temas.  
3. Revisa el resumen y act√∫a en base a los insights obtenidos.

### Escenario 2: Evaluaci√≥n de Conversaciones de Atenci√≥n al Cliente
**Situaci√≥n**:  
Deseas mejorar la calidad del servicio al cliente analizando las interacciones directas.

**Pasos**:  
1. Ingresa o sube las transcripciones de las conversaciones.  
2. Utiliza la funcionalidad "Analizar Conversaci√≥n" para detectar temas y patrones.  
3. Revisa el informe para identificar √°reas de mejora en la comunicaci√≥n del equipo.

### Escenario 3: Medici√≥n del Sentimiento del Cliente en Redes Sociales
**Situaci√≥n**:  
Quieres conocer c√≥mo se sienten los usuarios acerca de un nuevo producto.

**Pasos**:  
1. Recopila comentarios y opiniones en texto.  
2. Utiliza la opci√≥n "Analizar Sentimientos" para procesar los datos.  
3. Observa el gr√°fico de sentimientos y utiliza la informaci√≥n para afinar estrategias de marketing.

### Escenario 4: Recopilaci√≥n y Evaluaci√≥n de la Voz del Cliente (VoC)
**Situaci√≥n**:  
Necesitas recoger y analizar la retroalimentaci√≥n directa de tus clientes para ajustar tu servicio.

**Pasos**:  
1. Ingresa la retroalimentaci√≥n de los clientes o carga los archivos correspondientes.  
2. Ejecuta la funcionalidad "An√°lisis VoC".  
3. Analiza el reporte y dise√±a planes de acci√≥n basados en la informaci√≥n obtenida.

---

## ‚ùì Preguntas Frecuentes

**P: ¬øC√≥mo cargo mis archivos PDF en la aplicaci√≥n?**  
R: Solo debes hacer clic en la opci√≥n "Cargar PDF" en la interfaz, seleccionar el archivo de tu dispositivo y presionar "Procesar". La aplicaci√≥n extraer√° y mostrar√° el contenido.

**P: ¬øQu√© hago si el an√°lisis con IA no me genera resultados claros?**  
R: Revisa que el texto del documento est√© correctamente formateado y, si persiste el problema, vuelve a cargar el archivo o prueba con otro documento. Aseg√∫rate de seguir los pasos indicados en la gu√≠a.

**P: ¬øEs seguro usar esta herramienta para analizar la Voz del Cliente?**  
R: S√≠, la aplicaci√≥n est√° dise√±ada para manejar tu informaci√≥n con altos est√°ndares de seguridad y privacidad, asegurando que tus datos se procesen de forma confidencial.

**P: ¬øCu√°les son las limitaciones principales?**  
R: La herramienta se centra en el an√°lisis de informaci√≥n textual. No puede procesar otros tipos de archivos (como im√°genes sin texto) ni reemplazar el juicio humano en decisiones cr√≠ticas.

---

## üÜò Soluci√≥n de Problemas

### Problema: El archivo PDF no se carga correctamente
**S√≠ntomas**:  
- La aplicaci√≥n muestra un mensaje de error o no se visualiza el documento completo.

**Causa probable**:  
- El archivo puede estar da√±ado o no ser compatible.

**Soluci√≥n**:  
1. Verifica que el PDF est√© completo y no da√±ado.  
2. Aseg√∫rate de que el archivo tenga texto seleccionable (no im√°genes escaneadas sin OCR).  
3. Vuelve a cargar el documento siguiendo las instrucciones de "Cargar PDF".

---

### Problema: El an√°lisis con IA se demora demasiado
**S√≠ntomas**:  
- La respuesta tarda en generarse o se queda cargando.

**Causa probable**:  
- Pueden existir muchos datos o una conexi√≥n lenta.

**Soluci√≥n**:  
1. Prueba con un documento m√°s corto para verificar el funcionamiento.  
2. Revisa tu conexi√≥n a internet y aseg√∫rate de tener una red estable.  
3. Si el problema persiste, recarga la p√°gina y vuelve a intentarlo.

---

### Problema: No aparecen resultados en el an√°lisis de conversaciones o sentimientos
**S√≠ntomas**:  
- Los informes llegan vac√≠os o sin informaci√≥n relevante.

**Causa probable**:  
- El texto ingresado podr√≠a no contener suficiente informaci√≥n o estar mal formateado.

**Soluci√≥n**:  
1. Aseg√∫rate de que la transcripci√≥n o comentario tenga contenido claro y estructurado.  
2. Verifica que est√©s utilizando la funcionalidad correcta para el tipo de an√°lisis que necesitas.  
3. Si persiste, consulta el apartado de Preguntas Frecuentes o contacta soporte.

---

## üìû Soporte y Contacto

- **¬øNecesitas ayuda adicional?**  
  Puedes contactar al equipo de soporte a trav√©s del correo: soporte@tuaplicacion.com

- **¬øEncontraste un error?**  
  Utiliza la opci√≥n "Reportar un error" en la aplicaci√≥n o env√≠a un correo a: errores@tuaplicacion.com

- **¬øTienes sugerencias?**  
  ¬°Nos encanta escuchar tu opini√≥n! Env√≠anos tus sugerencias y feedback a: feedback@tuaplicacion.com

---

Esta gu√≠a est√° dise√±ada para que, sin necesidad de conocimientos t√©cnicos, puedas aprovechar al m√°ximo cada funcionalidad de la aplicaci√≥n. Disfruta de una experiencia sencilla y productiva en el an√°lisis y procesamiento de informaci√≥n. ¬°Bienvenido!

## Documentaci√≥n T√©cnica
A continuaci√≥n se muestra la documentaci√≥n t√©cnica completa en Markdown, organizada seg√∫n la estructura requerida y basada en el an√°lisis del c√≥digo y la informaci√≥n disponible del repositorio.

------------------------------------------------------------

# Documentaci√≥n T√©cnica

Esta documentaci√≥n est√° orientada a desarrolladores y profesionales interesados en comprender, mantener y extender la aplicaci√≥n VoC Analyst. Se detalla la arquitectura general, el stack tecnol√≥gico, los componentes principales, las ‚ÄúAPIs internas‚Äù (funciones clave) y la gu√≠a de desarrollo, as√≠ como la descripci√≥n necesaria para la correcta utilizaci√≥n y personalizaci√≥n del sistema.

------------------------------------------------------------

## üèóÔ∏è Arquitectura del Sistema

- **Patr√≥n arquitect√≥nico utilizado:**  
  La aplicaci√≥n adopta una arquitectura modular monol√≠tica ‚Äúh√≠brida‚Äù, en la que se integran la interfaz de usuario (Frontend) y el procesamiento/negocio (Backend) en una √∫nica aplicaci√≥n. La UI se implementa con Streamlit, mientras que el procesamiento de archivos, extracci√≥n de texto y la integraci√≥n con modelos de lenguaje (LLM) se realizan en m√≥dulos internos.

- **Diagrama de componentes:**  
  A continuaci√≥n se presenta un diagrama Mermaid que resume la relaci√≥n entre las principales partes de la aplicaci√≥n:

  ```mermaid
  graph LR
      A[Aplicaci√≥n Streamlit] --> B[Procesamiento de Archivos]
      A --> C[Estado de Sesi√≥n y UI]
      B --> D[Extracci√≥n de Texto (PyPDF2)]
      B --> E[Validaci√≥n de Archivos]
      A --> F[LLMBackend]
      F --> G[ModelConfig & Clientes LLM]
      B --> H[Parser de Conversaciones]
  ```

  - **A:** Representa la UI desarrollada con Streamlit.
  - **B:** Componente responsable de la extracci√≥n y validaci√≥n de archivos.
  - **C:** Gesti√≥n del estado de sesi√≥n (st.session_state) para almacenar resultados, IDs y datos de archivos.
  - **D y E:** Funciones de extracci√≥n (usando PyPDF2) y validaci√≥n (tama√±o, etc.) de archivos.
  - **F y G:** El m√≥dulo LLMBackend plantea la abstracci√≥n para comunicarse con distintos proveedores de LLM mediante la configuraci√≥n (ModelConfig).
  - **H:** M√≥dulo de parser y an√°lisis que se encarga de normalizar las conversaciones, segmentar mensajes y redactar informaci√≥n sensible.

- **Flujo de datos principal entre componentes:**  
  1. El usuario carga uno o varios archivos (preferiblemente PDF) mediante la interfaz Streamlit.  
  2. Se ejecutan funciones de validaci√≥n (por ejemplo, `validate_file_size`) y extracci√≥n de texto (con `extract_text_from_pdf` utilizando PyPDF2).  
  3. El texto extra√≠do se procesa, en algunos casos pasando por un parser que segmenta la conversaci√≥n, identifica metadatos y redacta PII (informaci√≥n sensible).  
  4. La capa de negocio utiliza el m√≥dulo LLMBackend, que mediante la configuraci√≥n (ModelConfig) y las funciones _load_parse_prompt/_load_analyze_prompt, env√≠a el contenido a los proveedores LLM (OpenAI, Anthropic, Gemini) para an√°lisis avanzado (resumen, detecci√≥n de temas, sentimiento, recomendaciones, etc.).  
  5. Los resultados se almacenan en st.session_state y se muestran en la interfaz (paneles de KPIs, gr√°ficas de temas, asignaci√≥n de mensajes, exportaci√≥n de resultados, etc.).

- **Dependencias cr√≠ticas y su prop√≥sito:**  
  - **Streamlit:** Facilita la creaci√≥n de una interfaz web interactiva y la gesti√≥n del estado de la sesi√≥n.  
  - **PyPDF2:** Se utiliza para interpretar y extraer el contenido textual de documentos PDF.  
  - **Pandas:** Permite la manipulaci√≥n y visualizaci√≥n tabular de datos, √∫til para mostrar res√∫menes y tablas de an√°lisis.  
  - **LLM SDKs (openai, anthropic, google-genai):** Estas librer√≠as permiten la integraci√≥n con servicios de modelos de lenguaje e inteligencia artificial, responsables del procesamiento sem√°ntico y la generaci√≥n de insights a partir del contenido textual.

------------------------------------------------------------

## üìã Stack Tecnol√≥gico

- **Lenguajes:**  
  Principalmente Python (interpretable como ‚Äúother‚Äù en la clasificaci√≥n del repositorio).

- **Frameworks y Librer√≠as:**  
  - **Streamlit:** (>=1.49.1) para la creaci√≥n de la interfaz web interactiva.  
  - **PyPDF2:** (>=3.0.1) para la extracci√≥n de texto desde archivos en PDF.  
  - **Pandas:** (>=2.3.2) para el manejo de datos y la presentaci√≥n a trav√©s de dataframes.  
  - **LLM SDKs:**  
    - `openai`: para la integraci√≥n con modelos de OpenAI.  
    - `anthropic`: para conectar con proveedores de Anthropic.  
    - `google-genai`: para la integraci√≥n con Google GenAI (Gemini).  
  - Otras librer√≠as est√°ndar: `json`, `os`, `time`, `uuid`, `zipfile`, `io`, y `typing`.

- **Base de datos:**  
  No se utiliza una base de datos relacional; el procesamiento y almacenamiento de datos se realiza de forma transitoria mediante st.session_state.

- **APIs externas:**  
  Se integran servicios externos mediante llamadas a APIs de proveedores LLM, tales como OpenAI, Anthropic y Google GenAI.

- **Infraestructura:**  
  La aplicaci√≥n se despliega como una aplicaci√≥n web simple (puede ejecutarse localmente, en servidores o en contenedores Docker) mediante Streamlit.

------------------------------------------------------------

## üîß Componentes Principales

### 1. Aplicaci√≥n Streamlit

- **Prop√≥sito:**  
  Gestionar la interfaz de usuario, la carga de archivos, la visualizaci√≥n de resultados y el estado de la sesi√≥n.

- **Ubicaci√≥n:**  
  Principalmente en el archivo de entrada (por ejemplo, `app.py`) y m√≥dulos auxiliares en el directorio `app/`.

- **Interfaces:**  
  - Configuraci√≥n de la p√°gina mediante `st.set_page_config`.  
  - Uso de `st.session_state` para almacenar variables como:
    - `analysis_results`: Resultados obtenidos del an√°lisis.
    - `run_id`: Identificador √∫nico de la ejecuci√≥n.
    - `uploaded_files_data`: Datos y metadatos de los archivos subidos.
    - `processing_complete`: Indicador del estado final del procesamiento.
  - Funciones auxiliares:
    - `extract_text_from_pdf(pdf_file) ‚Üí str`: Extrae el contenido textual de un PDF.  
    - `validate_file_size(file) ‚Üí bool`: Valida que el tama√±o del archivo no supere los 100 MB.

- **Dependencias:**  
  Requiere Streamlit, PyPDF2 y Pandas para su funcionamiento.

---

### 2. M√≥dulo LLMBackend

- **Prop√≥sito:**  
  Gestionar la integraci√≥n con proveedores de modelos de lenguaje (LLM) y enviar solicitudes para analizar el texto extra√≠do.

- **Ubicaci√≥n:**  
  En el archivo `llm_backend.py`.

- **Interfaces / M√©todos Expuestos:**
  - **ModelConfig:**  
    Una clase de configuraci√≥n que incluye campos como:
    - `provider`: Proveedor (ej. "openai", "anthropic", "gemini").
    - `model`: Modelo espec√≠fico a utilizar.
    - `api_key`: Clave para la autenticaci√≥n.
    - `max_retries` y `retry_delay`: Par√°metros para reintentos en caso de fallo.
  - **LLMBackend:**  
    M√©todos clave:
    - `__init__(config: ModelConfig)`: Inicializa la conexi√≥n y carga los prompts.
    - `_initialize_client()`: Selecciona e instancia el cliente adecuado basado en el proveedor.
    - `_load_parse_prompt()` y `_load_analyze_prompt()`: Cargan los prompts necesarios para el parseo y an√°lisis.
    - `analyze_text(text: str) ‚Üí Dict[str, Any]`: Env√≠a el texto a analizar y devuelve los insights generados por el modelo LLM.

- **Dependencias:**  
  Utiliza las librer√≠as espec√≠ficas para cada proveedor (openai, anthropic, google-genai).

---

### 3. Procesamiento y Extracci√≥n de Archivos

- **Prop√≥sito:**  
  Gestionar la carga, validaci√≥n y extracci√≥n de texto de archivos, enfocado principalmente en archivos PDF.

- **Funciones Clave:**
  - `extract_text_from_pdf(pdf_file) ‚Üí str`:  
    Recorrido de cada p√°gina del PDF para extraer el contenido.  
    Incluye manejo de errores a trav√©s de bloques try/except y notificaci√≥n al usuario.
  - `validate_file_size(file) ‚Üí bool`:  
    Verifica que el tama√±o del archivo no exceda 100 MB (se usa la b√∫squeda de la posici√≥n final del puntero).

---

### 4. Parser y An√°lisis de Conversaciones

- **Prop√≥sito:**  
  Procesar el contenido textual extra√≠do para:
  - Normalizar la conversaci√≥n.
  - Extraer metadatos (por ejemplo, `conversation_id`, timestamps, roles de los interlocutores).
  - Redactar informaci√≥n sensible (PII) reemplaz√°ndola por etiquetas est√°ndar (ej. [EMAIL], [PHONE], [CARD], [ID]).

- **Implementaci√≥n:**  
  Se aplican t√©cnicas de procesamiento de lenguaje natural (NLP) para segmentar el texto, identificar patrones y generar un JSON estructurado que ser√° utilizado para generar insights y visualizaciones.

---

## üöÄ APIs y Endpoints

**Nota:** Aunque la aplicaci√≥n no expone endpoints REST, cuenta con ‚ÄúAPIs internas‚Äù (funciones) que permiten la orquestaci√≥n del flujo de procesamiento y an√°lisis:

- **Funci√≥n:** `extract_text_from_pdf(pdf_file) ‚Üí str`  
  Extrae el contenido textual de un archivo PDF usando PyPDF2, notificando errores a trav√©s de la interfaz de Streamlit.

- **Funci√≥n:** `validate_file_size(file) ‚Üí bool`  
  Comprueba que el tama√±o del archivo subido sea menor a 100 MB.

- **M√©todo:** `LLMBackend.analyze_text(text: str) ‚Üí Dict[str, Any]`  
  Env√≠a el contenido textual a trav√©s del modelo LLM configurado y devuelve un diccionario con los resultados del an√°lisis (por ejemplo, insights, resumen, puntuaciones de sentimiento, temas, etc.).

- **Parser de Conversaciones:**  
  Funci√≥n o conjunto de funciones que segmentan la entrada en turnos de conversaci√≥n, identifican metadatos y transforman el texto en un formato estructurado.

------------------------------------------------------------

## üíæ Modelo de Datos

- **Entidades Principales:**
  - **Conversaci√≥n:**  
    Representada en un JSON estructurado con campos como:
    - `conversation_id`: Identificador √∫nico.
    - `messages`: Lista de mensajes, cada uno con:
      - `sender`: Rol del emisor (cliente, agente o desconocido).
      - `timestamp`: Momento en que se envi√≥ el mensaje.
      - `content`: Texto del mensaje (con PII redactada).
      - `metadata`: Datos adicionales (canal, duraci√≥n, etc.).

- **Esquemas de Entrada y Salida:**  
  - **Entrada:** Documentos PDF o cadenas de texto a analizar.
  - **Salida:** Estructuras JSON que agrupan mensajes, insights, temas y recomendaciones.

- **Validaciones y Transformaciones:**  
  - Validar que el texto no est√© vac√≠o y se pueda procesar correctamente.  
  - Redactar informaci√≥n sensible utilizando patrones (regex) para reemplazar datos como emails, tel√©fonos, etc.

------------------------------------------------------------

## üõ†Ô∏è Gu√≠a de Desarrollo

### Configuraci√≥n del Entorno

1. **Prerrequisitos:**  
   - Python 3.8 o superior.
   - Acceso a Internet para la comunicaci√≥n con APIs externas de LLM (si se utiliza en modo producci√≥n).

2. **Instalaci√≥n:**
   - Clonar el repositorio:
     ```bash
     git clone https://github.com/tu_usuario/VoC-Analyst.git
     cd VoC-Analyst
     ```
   - Crear y activar un entorno virtual:
     ```bash
     python -m venv venv
     source venv/bin/activate    # En Linux/Mac
     venv\Scripts\activate       # En Windows
     ```
   - Instalar las dependencias:
     ```bash
     pip install -r requirements.txt
     ```

3. **Variables de Entorno:**  
   - Configura las variables (por ejemplo, `OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, `GEMINI_API_KEY`) para el uso seguro de las APIs de LLM.
   
---

### Estructura del C√≥digo

El repositorio se organiza generalmente en la siguiente estructura:

```
VoC-Analyst/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                # Punto de entrada de la aplicaci√≥n (interfaz Streamlit)
‚îÇ   ‚îú‚îÄ‚îÄ parser.py             # Funciones para parsear y analizar conversaciones
‚îÇ   ‚îî‚îÄ‚îÄ utils.py              # Utilidades (extracci√≥n de texto, validaci√≥n, etc.)
‚îú‚îÄ‚îÄ llm_backend.py            # M√≥dulo para integraci√≥n y configuraci√≥n de proveedores LLM
‚îú‚îÄ‚îÄ requirements.txt          # Lista de dependencias
‚îî‚îÄ‚îÄ README.md                 # Documentaci√≥n general
```

---

### Est√°ndares de C√≥digo y Patrones Recomendados

- **Convenciones de Naming:**  
  Se recomienda utilizar nombres descriptivos en min√∫sculas y guiones bajos para funciones y archivos (por ejemplo, `extract_text_from_pdf`).

- **Patrones de Dise√±o:**  
  Se sigue un enfoque modular en la separaci√≥n de la l√≥gica de UI (Streamlit) y la l√≥gica de negocio (LLMBackend, Parser).  
  Se recomienda inyectar configuraciones (por ejemplo, ModelConfig) para mantener la flexibilidad y la escalabilidad del sistema.

- **Estrategia de Testing:**  
  Implementar pruebas unitarias y de integraci√≥n utilizando frameworks como pytest para:
  - Validar la extracci√≥n de texto.
  - Probar la validaci√≥n del tama√±o de archivos.
  - Simular peticiones al m√≥dulo LLMBackend y asegurar la correcta gesti√≥n de reintentos y respuestas.
  
---

## üîç Puntos de Atenci√≥n

- **Limitaciones Conocidas:**
  - La aplicaci√≥n depende de la capacidad de extracci√≥n de texto de archivos PDF; documentos basados en im√°genes pueden requerir OCR.
  - Los an√°lisis realizados por modelos de lenguaje pueden depender de la calidad y claridad del texto extra√≠do.
  
- **Consideraciones de Rendimiento:**
  - Procesar archivos muy grandes (cercanos a 100MB) puede ralentizar la aplicaci√≥n.
  - Es recomendable implementar procesamiento en lote o caching para an√°lisis repetitivos.

- **Aspectos de Seguridad:**
  - Proteger las API keys utilizando variables de entorno.
  - Redactar informaci√≥n sensible (PII) antes de enviar datos a proveedores externos.

- **TODOs y Mejoras Sugeridas:**
  - Ampliar soporte a otros formatos de archivo (por ejemplo, TXT).
  - Integrar OCR para PDFs basados en im√°genes.
  - Implementar una capa de caching para mejorar el rendimiento de an√°lisis repetitivos.
  
---

## Diagrama de Dependencias

El siguiente diagrama Mermaid resume la interacci√≥n y relaciones entre los componentes principales del sistema:

```mermaid
graph LR
    A[Aplicaci√≥n Streamlit] --> B[Procesamiento e Extracci√≥n de Archivos]
    A --> C[Estado de Sesi√≥n y UI]
    B --> D[Funciones: extract_text_from_pdf, validate_file_size]
    A --> E[LLMBackend]
    E --> F[ModelConfig y Clientes LLM (OpenAI, Anthropic, Gemini)]
    B --> G[Parser de Conversaciones y Redacci√≥n de PII]
```

---

## üîß Gu√≠a de Desarrollo (Resumen)

1. **Configuraci√≥n del Entorno:**  
   Clona el repositorio, activa el entorno virtual e instala las dependencias.

2. **Ejecuci√≥n de la Aplicaci√≥n:**  
   Ejecuta `streamlit run app/app.py` para iniciar la interfaz.

3. **Extensi√≥n y Configuraci√≥n:**  
   - Modifica `llm_backend.py` para integrar nuevos proveedores o ajustar los prompts de an√°lisis.  
   - Actualiza el modelo y la configuraci√≥n mediante la clase ModelConfig.

4. **Testing y Validaci√≥n:**  
   Implementa y ejecuta pruebas unitarias con pytest para funciones cr√≠ticas; aseg√∫rate de que la UI refleje correctamente el estado.

5. **Mantenimiento y Buenas Pr√°cticas:**  
   Siguiendo el enfoque modular y documentando cada cambio, se facilita la colaboraci√≥n y la escalabilidad del proyecto.

------------------------------------------------------------

## Gu√≠a de Usuario

Esta gu√≠a de usuario est√° dise√±ada para el uso final de la aplicaci√≥n, explicando paso a paso c√≥mo interactuar con la herramienta.

### 1. Acceso a la Aplicaci√≥n

- Abre tu navegador web y accede a la URL asignada (por ejemplo, http://localhost:8501 si ejecutas la aplicaci√≥n localmente).

### 2. Carga del Archivo PDF

- En la pantalla principal, utiliza el bot√≥n ‚ÄúCargar Archivo‚Äù para seleccionar el documento PDF que deseas analizar.
- Una vez seleccionado, la aplicaci√≥n iniciar√° un proceso de extracci√≥n de texto y validaci√≥n del tama√±o.

### 3. Ejecuci√≥n del An√°lisis

- Tras la carga, puedes iniciar el an√°lisis haciendo clic en ‚ÄúAnalizar con LLM‚Äù. (Nota: se requiere proporcionar una API key v√°lida para acceder a los modelos LLM.)
- La aplicaci√≥n procesar√° el contenido:
  - Extraer√° el texto del PDF.
  - Aplicar√° el parser para segmentar la conversaci√≥n y redactar la informaci√≥n sensible.
  - Enviar√° el contenido al proveedor LLM configurado para que genere insights (res√∫menes, detecci√≥n de temas, an√°lisis de sentimiento y recomendaciones).

### 4. Visualizaci√≥n de Resultados

- Una vez finalizado el an√°lisis, se mostrar√°n los resultados en diferentes secciones:
  - Indicadores clave (KPIs) como Net Promoter Score (NPS), CSAT y puntajes de sentimiento.
  - Temas descubiertos, listados en tablas y secciones expandibles que muestran descripciones y res√∫menes.
  - Asignaci√≥n de mensajes, donde se muestran extractos de la conversaci√≥n junto con la clasificaci√≥n de sentimientos.
  
### 5. Exportaci√≥n de Resultados

- La interfaz permite exportar los resultados completos en formatos como JSON o CSV para uso externo o an√°lisis adicional.

### Preguntas Frecuentes (FAQ)

**¬øQu√© tipos de archivos puedo procesar?**  
Actualmente, la herramienta soporta archivos PDF con texto seleccionable. Se evaluar√° el soporte para otros formatos en futuras versiones.

**¬øNecesito conocimientos t√©cnicos para usar la aplicaci√≥n?**  
No. La interfaz es intuitiva y cuenta con instrucciones claras para cada paso. Cualquier usuario podr√° cargar documentos y visualizar los resultados sin necesidad de conocimientos avanzados.

**¬øC√≥mo se protege la privacidad de mi informaci√≥n?**  
Los documentos se procesan de manera local o en entornos seguros y la informaci√≥n sensible se redirige mediante t√©cnicas de redacci√≥n antes de enviarla a modelos externos.

**¬øQu√© hago si el an√°lisis falla o se muestra un error?**  
Verifica que el archivo PDF est√© en buen estado. Si el problema persiste, consulta la secci√≥n de soporte o contacta al equipo t√©cnico para asistencia.

------------------------------------------------------------

## Conclusi√≥n

Esta documentaci√≥n t√©cnica y la gu√≠a de usuario tienen como objetivo proporcionar una visi√≥n completa del sistema VoC Analyst, abarcando tanto aspectos de desarrollo como de uso final. Gracias a su arquitectura modular y la integraci√≥n con modelos de lenguaje, la aplicaci√≥n permite extraer insights valiosos a partir de interacciones y documentos, facilitando la toma de decisiones y el an√°lisis de la voz del cliente.

Para dudas, mejoras o contribuciones, se recomienda revisar el c√≥digo fuente y consultar la secci√≥n de issues del repositorio.

------------------------------------------------------------

## Diagrama del Sistema

```mermaid
graph LR
    App[app] --> Deps[dependencies]
```

------------------------------------------------------------

Happy Coding!  
¬°Buena suerte y que disfrutes de una experiencia de an√°lisis poderosa y eficiente con VoC Analyst!


## Diagrama
```mermaid
graph LR
App[app]-->Deps[dependencies]

```
